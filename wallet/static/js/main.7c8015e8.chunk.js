(this.webpackJsonpwallet=this.webpackJsonpwallet||[]).push([[0],{234:function(e,t){},329:function(e,t,n){e.exports=n.p+"static/media/cosmWasmLogo.15dccd19.svg"},331:function(e,t,n){e.exports=n.p+"static/media/failIcon.71513020.svg"},332:function(e,t,n){e.exports=n.p+"static/media/successIcon.2e305b66.svg"},333:function(e,t,n){e.exports=n.p+"static/media/backArrow.9849fc2e.svg"},342:function(e,t,n){e.exports=n(733)},347:function(e,t,n){},363:function(e,t){},365:function(e,t){},375:function(e,t){},377:function(e,t){},419:function(e,t){},420:function(e,t){},425:function(e,t){},427:function(e,t){},451:function(e,t){},530:function(e,t,n){},531:function(e,t,n){},534:function(e,t,n){},595:function(e,t,n){},631:function(e,t,n){},632:function(e,t,n){},633:function(e,t,n){},635:function(e,t,n){},730:function(e,t,n){},731:function(e,t,n){},732:function(e,t,n){},733:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),s=(n(347),n(322)),i=n(58),l=n(71),u=n(59),m={setError:function(){},clearError:function(){}},d=Object(a.createContext)(m),f=function(){return Object(a.useContext)(d)};function E(e){var t=e.children,n=Object(a.useState)(),r=n[0],c=n[1],o={error:r,setError:c,clearError:function(){c(void 0)}};return Object(a.createElement)(d.Provider,{value:o},t)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function g(e,t){if(!t)return e;var n=t[e.denom];if(!n)return e;var a=u.Decimal.fromAtomics(e.amount,n.fractionalDigits).toString();return{denom:n.denom,amount:a}}function p(){var e="burner-wallet",t=localStorage.getItem(e);if(t)return t;var n=i.Bip39.encode(i.Random.getBytes(16)).toString();return localStorage.setItem(e,n),n}var v=function(e,t){try{return Promise.resolve(t.getAccounts()).then((function(n){var a=n[0].address,r=function(e){var t=e.feeToken,n=e.gasPrice,a=function(e,t,n){return{amount:[{amount:Math.floor(e*n).toString(),denom:t}],gas:e.toString()}};return{upload:a(15e5,t,n),init:a(6e5,t,n),exec:a(2e5,t,n),migrate:a(6e5,t,n),send:a(8e4,t,n),changeAdmin:a(8e4,t,n)}}(e);return new s.SigningCosmWasmClient(e.httpUrl,a,t,r)}))}catch(n){return Promise.reject(n)}},b=function(e){try{var t=p(),n=Object(l.makeCosmoshubPath)(0);return Promise.resolve(l.Secp256k1Wallet.fromMnemonic(t,n,e))}catch(a){return Promise.reject(a)}},k={initialized:!1,address:"",init:function(){},getClient:function(){throw new Error("not yet initialized")}},S=Object(a.createContext)(k),x=function(){return Object(a.useContext)(S)};function A(e){var t=e.config,n=e.loadWallet,r=e.children,c=h({},k,{init:function(){n(t.addressPrefix).then((function(e){return v(t,e)})).then((function(e){try{var n=function(){i({initialized:!0,address:a,init:function(){},getClient:function(){return e}})},a=e.senderAddress,r=function(){if(t.faucetUrl)return Promise.resolve(e.getAccount()).then((function(e){var n=function(){var n;if(!(null===e||void 0===e||null===(n=e.balance)||void 0===n?void 0:n.length))return Promise.resolve(fetch(t.faucetUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticker:t.faucetToken,address:a})})).then((function(){}))}();if(n&&n.then)return n.then((function(){}))}))}();return Promise.resolve(r&&r.then?r.then(n):n())}catch(c){return Promise.reject(c)}}))}}),o=Object(a.useState)(c),s=o[0],i=o[1];return Object(a.createElement)(S.Provider,{value:s},r)}function j(e){var t=e.config,n=e.children;return Object(a.createElement)(A,{config:t,loadWallet:b},n)}var O={refreshAccount:function(){}},T=Object(a.createContext)(O),C=function(){return Object(a.useContext)(T)};function N(e){var t=e.children,n=f().setError,r=x(),c=Object(a.useState)({}),o=c[0],s=c[1];function i(){r.initialized&&r.getClient().getAccount().then((function(e){return s({account:e})})).catch(n)}Object(a.useEffect)(i,[r,n]);var l={refreshAccount:i,account:o.account};return Object(a.createElement)(T.Provider,{value:l},t)}function y(e){var t=(e||"").toString().match(/.*\s*$/g)[0];return t.substring(0,t.lastIndexOf(";"))}var P=n(69),w=n(17);const B={httpUrl:"https://lcd.coralnet.cosmwasm.com",feeToken:"ushell",gasPrice:.025,faucetUrl:"https://faucet.coralnet.cosmwasm.com/credit",faucetToken:"SHELL",addressPrefix:"coral",coinMap:{ushell:{denom:"SHELL",fractionalDigits:6},ureef:{denom:"REEF",fractionalDigits:6}}};var L=function({children:e,location:t}){const{initialized:n}=x();return n?r.a.createElement(w.d,{location:t},e):r.a.createElement(w.a,{to:{pathname:"/login",state:{redirectPathname:t.pathname,redirectState:t.state}}})},M=(n(122),n(60)),z=n.n(M),F=(n(85),n(29)),I=n.n(F),W=n(3),D=n.n(W);n(530);var R=function({tag:e="div",className:t,children:n,...r}){const c=D()("Center",t);return a.createElement(e,Object.assign({className:c},r),n)};n(531);var $=function({tag:e="div",className:t,children:n,...r}){const c=D()("Stack",t);return a.createElement(e,Object.assign({className:c},r),n)},U=(n(532),n(325)),q=n.n(U),H=n(740);n(534);const J=r.a.createElement(H.a,{style:{fontSize:"6.25rem"},spin:!0});var V=function({loadingText:e}){const t=e||"Loading...";return r.a.createElement(R,{tag:"main",className:"Loading"},r.a.createElement(q.a,{indicator:J,tip:t,className:"Spin"}))},Y=n(329),K=n.n(Y);n(595);const{Title:G,Text:Q}=I.a;var X=function(){const e=Object(w.g)(),t=e.location.state,n=x(),{refreshAccount:c,account:o}=C(),[s,i]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{n.initialized&&c()},[n.initialized,c]),Object(a.useEffect)(()=>{o&&(t?e.push(t.redirectPathname,t.redirectState):e.push("/tokens"))},[o,t,e]),s?r.a.createElement(V,{loadingText:"Initializing app..."}):r.a.createElement(R,{tag:"main",className:"Login"},r.a.createElement($,{className:"MainStack"},r.a.createElement("img",{src:K.a,alt:"CosmWasm logo"}),r.a.createElement($,{className:"WelcomeStack"},r.a.createElement(I.a,null,r.a.createElement(G,{level:2},"Hello!"),r.a.createElement(Q,{className:"LightText"},"Welcome to your Wallet"),r.a.createElement(Q,{className:"LightText"},"Select one of the following options to start:")),r.a.createElement(z.a,{type:"primary",onClick:function(){i(!0),n.init()}},"Browser (Demo)"),r.a.createElement(z.a,{disabled:!0,type:"primary"},"Keplr (Secure)"))))},Z=n(331),_=n.n(Z),ee=n(332),te=n.n(ee);n(631);const{Text:ne}=I.a;var ae=function(){const e=Object(w.g)(),{success:t,message:n,error:a,customButtonText:c,customButtonActionPath:o,customButtonActionState:s}=e.location.state,{icon:i,textClass:l,buttonText:u,buttonAction:m}=function(e,t){return e?{icon:te.a,textClass:"SuccessText",buttonText:"Home",buttonAction:()=>function(e){e.push("/tokens")}(t)}:{icon:_.a,textClass:"FailText",buttonText:"Retry",buttonAction:t.goBack}}(t,e),d=c||u,f=o?()=>e.push(o,s):m;return r.a.createElement(R,{tag:"main",className:"OperationResult"},r.a.createElement($,{className:"MainStack"},r.a.createElement("img",{src:i,alt:"Result icon"}),r.a.createElement(ne,{className:l},n),a&&r.a.createElement(ne,{className:l},a),r.a.createElement(z.a,{type:"primary",onClick:f},d)))},re=n(333),ce=n.n(re);n(632);var oe=function({path:e,state:t}){const n=Object(w.g)(),a=e?()=>n.push(e,t):n.goBack;return r.a.createElement("img",{src:ce.a,alt:"Back arrow",className:"BackButton",onClick:a})},se=n(334),ie=n.n(se);n(633);const{Title:le,Text:ue}=I.a;var me=function({showTitle:e,...t}){const n=C();return r.a.createElement(R,Object.assign({className:"YourAccount"},t),r.a.createElement($,null,e||"undefined"===typeof e&&r.a.createElement(le,{level:3},"Your Account"),r.a.createElement(ue,null,n.account.address),r.a.createElement(z.a,{type:"primary",onClick:()=>ie()(n.account.address)},"Copy Account Address")))},de=n(35),fe=n(738),Ee=n(338),he=n(739),ge=n(91);const pe=new RegExp("^"+B.addressPrefix),ve={address:ge.c().required("An address is required").matches(pe,`"${B.addressPrefix}" prefix required`).length(39+B.addressPrefix.length,"Address invalid")},be=ge.b().shape(ve),ke=ge.b().shape(ve);n(635);const{Text:Se}=I.a;var xe=function({tokenName:e,tokenAmount:t,sendTokensAction:n}){const a=ge.b().shape({amount:ge.a().required("An amount is required").positive("Amount should be positive").max(parseFloat(t),"Amount cannot be greater than "+t)}).concat(ke);return r.a.createElement(de.c,{initialValues:{amount:"",address:""},onSubmit:n,validationSchema:a},t=>r.a.createElement(fe.a,null,r.a.createElement($,{className:"FormSendTokens"},r.a.createElement("div",{className:"formField"},r.a.createElement(Se,null,"Send"),r.a.createElement(Ee.a,{name:"amount"},r.a.createElement(he.a,{name:"amount",placeholder:"Enter amount"})),r.a.createElement(Se,null,e)),r.a.createElement("div",{className:"formField"},r.a.createElement(Se,null,"to"),r.a.createElement(Ee.a,{name:"address"},r.a.createElement(he.a,{name:"address",placeholder:"Enter address"}))),r.a.createElement(z.a,{type:"primary",onClick:t.submitForm,disabled:!(t.isValid&&t.dirty)},"Send"))))};n(730);const{Title:Ae,Text:je}=I.a;var Oe=function(){const[e,t]=Object(a.useState)(!1),n=Object(w.g)(),{tokenName:c}=Object(w.h)(),{tokenAmount:o}=n.location.state,{getClient:s}=x(),i=C(),m={denom:c,amount:o},{denom:d,amount:f}=g(m,B.coinMap),[E,h]=f.split(".");return e&&r.a.createElement(V,{loadingText:`Sending ${d}...`})||!e&&r.a.createElement(R,{tag:"main",className:"TokenDetail"},r.a.createElement($,{className:"MainStack"},r.a.createElement(oe,{path:"/tokens"}),r.a.createElement($,{className:"AccountStack"},r.a.createElement(Ae,null,d),r.a.createElement(me,{showTitle:!1})),r.a.createElement("div",{className:"Amount"},r.a.createElement(je,null,`${E}${h?".":""}`),h&&r.a.createElement(je,null,h),r.a.createElement(je,null," tokens")),r.a.createElement(xe,{tokenName:d,tokenAmount:f,sendTokensAction:e=>{t(!0);const{address:a,amount:r}=e,m=a,d=function(e,t,n){var a,r=null===(a=t[n])||void 0===a?void 0:a.fractionalDigits;return r?u.Decimal.fromUserInput(e,r).atomics:e}(r,B.coinMap,c),f=[{denom:c,amount:d}];s().sendTokens(m,f).then(e=>{if(Object(l.isPostTxFailure)(e))return Promise.reject(e.rawLog);i.refreshAccount(),n.push({pathname:"/result",state:{success:!0,message:`${r} ${c} succesfully sent to ${m}`,customButtonText:"Tokens"}})}).catch(e=>{console.error(e);const t="/tokens/"+c,a={tokenAmount:o};n.push({pathname:"/result",state:{success:!1,message:"Send transaction failed:",error:y(e),customButtonActionPath:t,customButtonActionState:a}})})}})))},Te=(n(187),n(90)),Ce=n.n(Te),Ne=n(166);const ye=a.forwardRef(({name:e,validate:t,fast:n,onChange:r,onBlur:c,...o},s)=>a.createElement(Ne.a,{name:e,validate:t,fast:n},({field:{value:t,onChange:n,onBlur:i}})=>a.createElement(Ce.a,Object.assign({ref:s,name:e,value:t,onChange:e=>{n(e),r&&r(e)},onBlur:e=>{i(e),c&&c(e)}},o))));ye.Search=a.forwardRef(({name:e,validate:t,fast:n,onChange:r,onBlur:c,...o},s)=>a.createElement(Ne.a,{name:e,validate:t,fast:n},({field:{value:t,onChange:n,onBlur:i}})=>a.createElement(Ce.a.Search,Object.assign({ref:s,name:e,value:t,onChange:e=>{n(e),r&&r(e)},onBlur:e=>{i(e),c&&c(e)}},o))));var Pe=ye.Search;var we=function({currentAddress:e,setCurrentAddress:t}){return r.a.createElement(de.c,{initialValues:{address:e},validationSchema:be,onSubmit:e=>{t(e.address)}},e=>r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{name:"address"},r.a.createElement(Pe,{name:"address",placeholder:"Enter address",enterButton:!0,onSearch:e.submitForm}))))};n(731);const{Text:Be}=I.a;var Le=function({currentAddress:e}){const{getClient:t}=x(),{setError:n}=f(),[c,o]=Object(a.useState)([]);Object(a.useEffect)(()=>{t().getAccount(e).then(({balance:e})=>o(e)).catch(n)},[t,e,n]);const{account:s}=C(),i=s.address===e,l=Object(w.g)();return r.a.createElement($,{className:"TokenList"},c.map(e=>{const{denom:t,amount:n}=g(e,B.coinMap);return r.a.createElement("div",{key:e.denom,className:"tokenItem","data-state":i?"":"forbidden",onClick:()=>{var t;i&&(t=e,l.push("/tokens/"+t.denom,{tokenAmount:t.amount}))}},r.a.createElement("div",{className:"borderContainer"},r.a.createElement(Be,null,t),r.a.createElement(Be,null,"0"!==n?n:"No tokens")))}))};n(732);const{Title:Me}=I.a;var ze=function(){const{account:e}=C(),[t,n]=Object(a.useState)(e.address);return r.a.createElement(R,{tag:"main",className:"Tokens"},r.a.createElement($,{className:"MainStack"},r.a.createElement(Me,null,"Tokens"),r.a.createElement(we,{currentAddress:t,setCurrentAddress:n}),r.a.createElement(Le,{currentAddress:t}),r.a.createElement(me,null)))};var Fe=function(){return r.a.createElement(E,null,r.a.createElement(j,{config:B},r.a.createElement(N,null,r.a.createElement(P.a,{basename:"/wallet"},r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:"/",component:X}),r.a.createElement(w.b,{exact:!0,path:"/login",component:X}),r.a.createElement(L,null,r.a.createElement(w.b,{exact:!0,path:"/tokens",component:ze}),r.a.createElement(w.b,{exact:!0,path:"/tokens/:tokenName",component:Oe}),r.a.createElement(w.b,{exact:!0,path:"/result",component:ae})))))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Fe,null)),document.getElementById("root"))}},[[342,1,2]]]);
//# sourceMappingURL=main.7c8015e8.chunk.js.map