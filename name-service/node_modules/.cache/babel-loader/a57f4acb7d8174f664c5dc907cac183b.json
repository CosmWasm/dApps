{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n/* eslint react/prop-types: 0 */\n\nimport React from 'react';\nimport OriginCSSMotion from './CSSMotion';\nimport { supportTransition } from './util/motion';\nimport { STATUS_ADD, STATUS_KEEP, STATUS_REMOVE, STATUS_REMOVED, diffKeys, parseKeys } from './util/diff';\nvar MOTION_PROP_NAMES = ['eventProps', 'visible', 'children', 'motionName', 'motionAppear', 'motionEnter', 'motionLeave', 'motionLeaveImmediately', 'motionDeadline', 'removeOnLeave', 'leavedClassName', 'onAppearStart', 'onAppearActive', 'onAppearEnd', 'onEnterStart', 'onEnterActive', 'onEnterEnd', 'onLeaveStart', 'onLeaveActive', 'onLeaveEnd'];\nexport function genCSSMotionList(transitionSupport) {\n  var CSSMotion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OriginCSSMotion;\n\n  var CSSMotionList = /*#__PURE__*/function (_React$Component) {\n    _inherits(CSSMotionList, _React$Component);\n\n    var _super = _createSuper(CSSMotionList);\n\n    function CSSMotionList() {\n      var _this;\n\n      _classCallCheck(this, CSSMotionList);\n\n      _this = _super.apply(this, arguments);\n      _this.state = {\n        keyEntities: []\n      };\n\n      _this.removeKey = function (removeKey) {\n        _this.setState(function (_ref) {\n          var keyEntities = _ref.keyEntities;\n          return {\n            keyEntities: keyEntities.map(function (entity) {\n              if (entity.key !== removeKey) return entity;\n              return _objectSpread(_objectSpread({}, entity), {}, {\n                status: STATUS_REMOVED\n              });\n            })\n          };\n        });\n      };\n\n      return _this;\n    }\n\n    _createClass(CSSMotionList, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var keyEntities = this.state.keyEntities;\n\n        var _this$props = this.props,\n            component = _this$props.component,\n            children = _this$props.children,\n            restProps = _objectWithoutProperties(_this$props, [\"component\", \"children\"]);\n\n        var Component = component || React.Fragment;\n        var motionProps = {};\n        MOTION_PROP_NAMES.forEach(function (prop) {\n          motionProps[prop] = restProps[prop];\n          delete restProps[prop];\n        });\n        delete restProps.keys;\n        return React.createElement(Component, Object.assign({}, restProps), keyEntities.map(function (_ref2) {\n          var status = _ref2.status,\n              eventProps = _objectWithoutProperties(_ref2, [\"status\"]);\n\n          var visible = status === STATUS_ADD || status === STATUS_KEEP;\n          return React.createElement(CSSMotion, Object.assign({}, motionProps, {\n            key: eventProps.key,\n            visible: visible,\n            eventProps: eventProps,\n            onLeaveEnd: function onLeaveEnd() {\n              if (motionProps.onLeaveEnd) {\n                motionProps.onLeaveEnd.apply(motionProps, arguments);\n              }\n\n              _this2.removeKey(eventProps.key);\n            }\n          }), children);\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(_ref3, _ref4) {\n        var keys = _ref3.keys;\n        var keyEntities = _ref4.keyEntities;\n        var parsedKeyObjects = parseKeys(keys); // Always as keep when motion not support\n\n        if (!transitionSupport) {\n          return {\n            keyEntities: parsedKeyObjects.map(function (obj) {\n              return _objectSpread(_objectSpread({}, obj), {}, {\n                status: STATUS_KEEP\n              });\n            })\n          };\n        }\n\n        var mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);\n        var keyEntitiesLen = keyEntities.length;\n        return {\n          keyEntities: mixedKeyEntities.filter(function (entity) {\n            // IE 9 not support Array.prototype.find\n            var prevEntity = null;\n\n            for (var i = 0; i < keyEntitiesLen; i += 1) {\n              var currentEntity = keyEntities[i];\n\n              if (currentEntity.key === entity.key) {\n                prevEntity = currentEntity;\n                break;\n              }\n            } // Remove if already mark as removed\n\n\n            if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {\n              return false;\n            }\n\n            return true;\n          })\n        };\n      }\n    }]);\n\n    return CSSMotionList;\n  }(React.Component);\n\n  CSSMotionList.defaultProps = {\n    component: 'div'\n  };\n  return CSSMotionList;\n}\nexport default genCSSMotionList(supportTransition);","map":{"version":3,"sources":["/home/abefernan/cosmwasm/dApps/node_modules/rc-motion/es/CSSMotionList.js"],"names":["_objectWithoutProperties","_objectSpread","_classCallCheck","_createClass","_inherits","_createSuper","React","OriginCSSMotion","supportTransition","STATUS_ADD","STATUS_KEEP","STATUS_REMOVE","STATUS_REMOVED","diffKeys","parseKeys","MOTION_PROP_NAMES","genCSSMotionList","transitionSupport","CSSMotion","arguments","length","undefined","CSSMotionList","_React$Component","_super","_this","apply","state","keyEntities","removeKey","setState","_ref","map","entity","key","status","value","render","_this2","_this$props","props","component","children","restProps","Component","Fragment","motionProps","forEach","prop","keys","createElement","Object","assign","_ref2","eventProps","visible","onLeaveEnd","getDerivedStateFromProps","_ref3","_ref4","parsedKeyObjects","obj","mixedKeyEntities","keyEntitiesLen","filter","prevEntity","i","currentEntity","defaultProps"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n\n/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport OriginCSSMotion from './CSSMotion';\nimport { supportTransition } from './util/motion';\nimport { STATUS_ADD, STATUS_KEEP, STATUS_REMOVE, STATUS_REMOVED, diffKeys, parseKeys } from './util/diff';\nvar MOTION_PROP_NAMES = ['eventProps', 'visible', 'children', 'motionName', 'motionAppear', 'motionEnter', 'motionLeave', 'motionLeaveImmediately', 'motionDeadline', 'removeOnLeave', 'leavedClassName', 'onAppearStart', 'onAppearActive', 'onAppearEnd', 'onEnterStart', 'onEnterActive', 'onEnterEnd', 'onLeaveStart', 'onLeaveActive', 'onLeaveEnd'];\nexport function genCSSMotionList(transitionSupport) {\n  var CSSMotion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OriginCSSMotion;\n\n  var CSSMotionList = /*#__PURE__*/function (_React$Component) {\n    _inherits(CSSMotionList, _React$Component);\n\n    var _super = _createSuper(CSSMotionList);\n\n    function CSSMotionList() {\n      var _this;\n\n      _classCallCheck(this, CSSMotionList);\n\n      _this = _super.apply(this, arguments);\n      _this.state = {\n        keyEntities: []\n      };\n\n      _this.removeKey = function (removeKey) {\n        _this.setState(function (_ref) {\n          var keyEntities = _ref.keyEntities;\n          return {\n            keyEntities: keyEntities.map(function (entity) {\n              if (entity.key !== removeKey) return entity;\n              return _objectSpread(_objectSpread({}, entity), {}, {\n                status: STATUS_REMOVED\n              });\n            })\n          };\n        });\n      };\n\n      return _this;\n    }\n\n    _createClass(CSSMotionList, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var keyEntities = this.state.keyEntities;\n\n        var _this$props = this.props,\n            component = _this$props.component,\n            children = _this$props.children,\n            restProps = _objectWithoutProperties(_this$props, [\"component\", \"children\"]);\n\n        var Component = component || React.Fragment;\n        var motionProps = {};\n        MOTION_PROP_NAMES.forEach(function (prop) {\n          motionProps[prop] = restProps[prop];\n          delete restProps[prop];\n        });\n        delete restProps.keys;\n        return React.createElement(Component, Object.assign({}, restProps), keyEntities.map(function (_ref2) {\n          var status = _ref2.status,\n              eventProps = _objectWithoutProperties(_ref2, [\"status\"]);\n\n          var visible = status === STATUS_ADD || status === STATUS_KEEP;\n          return React.createElement(CSSMotion, Object.assign({}, motionProps, {\n            key: eventProps.key,\n            visible: visible,\n            eventProps: eventProps,\n            onLeaveEnd: function onLeaveEnd() {\n              if (motionProps.onLeaveEnd) {\n                motionProps.onLeaveEnd.apply(motionProps, arguments);\n              }\n\n              _this2.removeKey(eventProps.key);\n            }\n          }), children);\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(_ref3, _ref4) {\n        var keys = _ref3.keys;\n        var keyEntities = _ref4.keyEntities;\n        var parsedKeyObjects = parseKeys(keys); // Always as keep when motion not support\n\n        if (!transitionSupport) {\n          return {\n            keyEntities: parsedKeyObjects.map(function (obj) {\n              return _objectSpread(_objectSpread({}, obj), {}, {\n                status: STATUS_KEEP\n              });\n            })\n          };\n        }\n\n        var mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);\n        var keyEntitiesLen = keyEntities.length;\n        return {\n          keyEntities: mixedKeyEntities.filter(function (entity) {\n            // IE 9 not support Array.prototype.find\n            var prevEntity = null;\n\n            for (var i = 0; i < keyEntitiesLen; i += 1) {\n              var currentEntity = keyEntities[i];\n\n              if (currentEntity.key === entity.key) {\n                prevEntity = currentEntity;\n                break;\n              }\n            } // Remove if already mark as removed\n\n\n            if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {\n              return false;\n            }\n\n            return true;\n          })\n        };\n      }\n    }]);\n\n    return CSSMotionList;\n  }(React.Component);\n\n  CSSMotionList.defaultProps = {\n    component: 'div'\n  };\n  return CSSMotionList;\n}\nexport default genCSSMotionList(supportTransition);"]},"metadata":{},"sourceType":"module"}