{"ast":null,"code":"var _jsxFileName = \"/home/abefernan/cosmwasm/dApps/packages/name-service/src/service/account.tsx\";\nimport * as React from \"react\";\nimport { useError } from \"./error\";\nimport { useSdk } from \"./wallet\";\n\nconst defaultContext = () => {\n  return {\n    refreshAccount: () => {\n      return;\n    }\n  };\n};\n\nexport const AccountContext = React.createContext(defaultContext());\nexport const useAccount = () => React.useContext(AccountContext);\nexport function AccountProvider({\n  children\n}) {\n  const [value, setValue] = React.useState({});\n  const sdk = useSdk();\n  const {\n    setError\n  } = useError();\n\n  const refreshAccount = () => {\n    if (sdk.initialized) {\n      sdk.getClient().getAccount().then(account => setValue({\n        account\n      })).catch(setError);\n    }\n  }; // this should just be called once on startup\n\n\n  React.useEffect(refreshAccount, [sdk, setError]);\n  const context = {\n    refreshAccount,\n    account: value.account\n  };\n  return /*#__PURE__*/React.createElement(AccountContext.Provider, {\n    value: context,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 10\n    }\n  }, children);\n}","map":{"version":3,"sources":["/home/abefernan/cosmwasm/dApps/packages/name-service/src/service/account.tsx"],"names":["React","useError","useSdk","defaultContext","refreshAccount","AccountContext","createContext","useAccount","useContext","AccountProvider","children","value","setValue","useState","sdk","setError","initialized","getClient","getAccount","then","account","catch","useEffect","context"],"mappings":";AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,SAAzB;AACA,SAASC,MAAT,QAAuB,UAAvB;;AAUA,MAAMC,cAAc,GAAG,MAA0B;AAC/C,SAAO;AACLC,IAAAA,cAAc,EAAE,MAAM;AACpB;AACD;AAHI,GAAP;AAKD,CAND;;AAQA,OAAO,MAAMC,cAAc,GAAGL,KAAK,CAACM,aAAN,CAAwCH,cAAc,EAAtD,CAAvB;AAEP,OAAO,MAAMI,UAAU,GAAG,MAA0BP,KAAK,CAACQ,UAAN,CAAiBH,cAAjB,CAA7C;AAEP,OAAO,SAASI,eAAT,CAAyB;AAAEC,EAAAA;AAAF,CAAzB,EAA4F;AACjG,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,KAAK,CAACa,QAAN,CAAsB,EAAtB,CAA1B;AACA,QAAMC,GAAG,GAAGZ,MAAM,EAAlB;AACA,QAAM;AAAEa,IAAAA;AAAF,MAAed,QAAQ,EAA7B;;AAEA,QAAMG,cAAc,GAAG,MAAY;AACjC,QAAIU,GAAG,CAACE,WAAR,EAAqB;AACnBF,MAAAA,GAAG,CACAG,SADH,GAEGC,UAFH,GAGGC,IAHH,CAGSC,OAAD,IAAaR,QAAQ,CAAC;AAAEQ,QAAAA;AAAF,OAAD,CAH7B,EAIGC,KAJH,CAISN,QAJT;AAKD;AACF,GARD,CALiG,CAejG;;;AACAf,EAAAA,KAAK,CAACsB,SAAN,CAAgBlB,cAAhB,EAAgC,CAACU,GAAD,EAAMC,QAAN,CAAhC;AAEA,QAAMQ,OAA2B,GAAG;AAClCnB,IAAAA,cADkC;AAElCgB,IAAAA,OAAO,EAAET,KAAK,CAACS;AAFmB,GAApC;AAKA,sBAAO,oBAAC,cAAD,CAAgB,QAAhB;AAAyB,IAAA,KAAK,EAAEG,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0Cb,QAA1C,CAAP;AACD","sourcesContent":["import { Account } from \"@cosmjs/launchpad\";\nimport * as React from \"react\";\nimport { useError } from \"./error\";\nimport { useSdk } from \"./wallet\";\n\ninterface State {\n  readonly account?: Account;\n}\n\nexport interface AccountContextType extends State {\n  readonly refreshAccount: () => void;\n}\n\nconst defaultContext = (): AccountContextType => {\n  return {\n    refreshAccount: () => {\n      return;\n    },\n  };\n};\n\nexport const AccountContext = React.createContext<AccountContextType>(defaultContext());\n\nexport const useAccount = (): AccountContextType => React.useContext(AccountContext);\n\nexport function AccountProvider({ children }: React.HTMLAttributes<HTMLOrSVGElement>): JSX.Element {\n  const [value, setValue] = React.useState<State>({});\n  const sdk = useSdk();\n  const { setError } = useError();\n\n  const refreshAccount = (): void => {\n    if (sdk.initialized) {\n      sdk\n        .getClient()\n        .getAccount()\n        .then((account) => setValue({ account }))\n        .catch(setError);\n    }\n  };\n\n  // this should just be called once on startup\n  React.useEffect(refreshAccount, [sdk, setError]);\n\n  const context: AccountContextType = {\n    refreshAccount,\n    account: value.account,\n  };\n\n  return <AccountContext.Provider value={context}>{children}</AccountContext.Provider>;\n}\n"]},"metadata":{},"sourceType":"module"}