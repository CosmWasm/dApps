{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"shallowequal\"));\n\nvar _Track = _interopRequireDefault(require(\"./common/Track\"));\n\nvar _createSlider = _interopRequireDefault(require(\"./common/createSlider\"));\n\nvar utils = _interopRequireWildcard(require(\"./utils\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar _trimAlignValue = function trimAlignValue(_ref) {\n  var value = _ref.value,\n      handle = _ref.handle,\n      bounds = _ref.bounds,\n      props = _ref.props;\n  var allowCross = props.allowCross,\n      pushable = props.pushable;\n  var thershold = Number(pushable);\n  var valInRange = utils.ensureValueInRange(value, props);\n  var valNotConflict = valInRange;\n\n  if (!allowCross && handle != null && bounds !== undefined) {\n    if (handle > 0 && valInRange <= bounds[handle - 1] + thershold) {\n      valNotConflict = bounds[handle - 1] + thershold;\n    }\n\n    if (handle < bounds.length - 1 && valInRange >= bounds[handle + 1] - thershold) {\n      valNotConflict = bounds[handle + 1] - thershold;\n    }\n  }\n\n  return utils.ensureValuePrecision(valNotConflict, props);\n};\n\nvar Range = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2.default)(Range, _React$Component);\n\n  var _super = _createSuper(Range);\n\n  function Range(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Range);\n    _this = _super.call(this, props);\n\n    _this.onEnd = function (force) {\n      var handle = _this.state.handle;\n\n      _this.removeDocumentEvents();\n\n      if (handle !== null || force) {\n        _this.props.onAfterChange(_this.getValue());\n      }\n\n      _this.setState({\n        handle: null\n      });\n    };\n\n    var count = props.count,\n        min = props.min,\n        max = props.max;\n    var initialValue = Array.apply(void 0, (0, _toConsumableArray2.default)(Array(count + 1))).map(function () {\n      return min;\n    });\n    var defaultValue = 'defaultValue' in props ? props.defaultValue : initialValue;\n    var value = props.value !== undefined ? props.value : defaultValue;\n    var bounds = value.map(function (v, i) {\n      return _trimAlignValue({\n        value: v,\n        handle: i,\n        props: props\n      });\n    });\n    var recent = bounds[0] === max ? 0 : bounds.length - 1;\n    _this.state = {\n      handle: null,\n      recent: recent,\n      bounds: bounds\n    };\n    return _this;\n  }\n  /**\n   * [Legacy] Used for inherit other component.\n   * It's a bad code style which should be refactor.\n   */\n\n  /* eslint-disable @typescript-eslint/no-unused-vars, class-methods-use-this */\n\n\n  (0, _createClass2.default)(Range, [{\n    key: \"calcValueByPos\",\n    value: function calcValueByPos(value) {\n      return 0;\n    }\n  }, {\n    key: \"calcOffset\",\n    value: function calcOffset(value) {\n      return 0;\n    }\n  }, {\n    key: \"saveHandle\",\n    value: function saveHandle(index, h) {}\n  }, {\n    key: \"removeDocumentEvents\",\n    value: function removeDocumentEvents() {}\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (!('value' in this.props || 'min' in this.props || 'max' in this.props)) {\n        return;\n      }\n\n      if (this.props.min === prevProps.min && this.props.max === prevProps.max && (0, _shallowequal.default)(this.props.value, prevProps.value)) {\n        return;\n      }\n\n      var _this$props = this.props,\n          onChange = _this$props.onChange,\n          value = _this$props.value;\n      var currentValue = value || prevState.bounds;\n\n      if (currentValue.some(function (v) {\n        return utils.isValueOutOfRange(v, _this2.props);\n      })) {\n        var newValues = currentValue.map(function (v) {\n          return utils.ensureValueInRange(v, _this2.props);\n        });\n        onChange(newValues);\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(state) {\n      var props = this.props;\n      var isNotControlled = !('value' in props);\n\n      if (isNotControlled) {\n        this.setState(state);\n      } else {\n        var controlledState = {};\n        ['handle', 'recent'].forEach(function (item) {\n          if (state[item] !== undefined) {\n            controlledState[item] = state[item];\n          }\n        });\n\n        if (Object.keys(controlledState).length) {\n          this.setState(controlledState);\n        }\n      }\n\n      var data = _objectSpread(_objectSpread({}, this.state), state);\n\n      var changedValue = data.bounds;\n      props.onChange(changedValue);\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart(position) {\n      var props = this.props,\n          state = this.state;\n      var bounds = this.getValue();\n      props.onBeforeChange(bounds);\n      var value = this.calcValueByPos(position);\n      this.startValue = value;\n      this.startPosition = position;\n      var closestBound = this.getClosestBound(value);\n      this.prevMovedHandleIndex = this.getBoundNeedMoving(value, closestBound);\n      this.setState({\n        handle: this.prevMovedHandleIndex,\n        recent: this.prevMovedHandleIndex\n      });\n      var prevValue = bounds[this.prevMovedHandleIndex];\n      if (value === prevValue) return;\n      var nextBounds = (0, _toConsumableArray2.default)(state.bounds);\n      nextBounds[this.prevMovedHandleIndex] = value;\n      this.onChange({\n        bounds: nextBounds\n      });\n    }\n  }, {\n    key: \"onMove\",\n    value: function onMove(e, position) {\n      utils.pauseEvent(e);\n      var state = this.state;\n      var value = this.calcValueByPos(position);\n      var oldValue = state.bounds[state.handle];\n      if (value === oldValue) return;\n      this.moveTo(value);\n    }\n  }, {\n    key: \"onKeyboard\",\n    value: function onKeyboard(e) {\n      var _this$props2 = this.props,\n          reverse = _this$props2.reverse,\n          vertical = _this$props2.vertical;\n      var valueMutator = utils.getKeyboardValueMutator(e, vertical, reverse);\n\n      if (valueMutator) {\n        utils.pauseEvent(e);\n        var state = this.state,\n            props = this.props;\n        var bounds = state.bounds,\n            handle = state.handle;\n        var oldValue = bounds[handle === null ? state.recent : handle];\n        var mutatedValue = valueMutator(oldValue, props);\n\n        var value = _trimAlignValue({\n          value: mutatedValue,\n          handle: handle,\n          bounds: state.bounds,\n          props: props\n        });\n\n        if (value === oldValue) return;\n        var isFromKeyboardEvent = true;\n        this.moveTo(value, isFromKeyboardEvent);\n      }\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      return this.state.bounds;\n    }\n  }, {\n    key: \"getClosestBound\",\n    value: function getClosestBound(value) {\n      var bounds = this.state.bounds;\n      var closestBound = 0;\n\n      for (var i = 1; i < bounds.length - 1; i += 1) {\n        if (value >= bounds[i]) {\n          closestBound = i;\n        }\n      }\n\n      if (Math.abs(bounds[closestBound + 1] - value) < Math.abs(bounds[closestBound] - value)) {\n        closestBound += 1;\n      }\n\n      return closestBound;\n    }\n  }, {\n    key: \"getBoundNeedMoving\",\n    value: function getBoundNeedMoving(value, closestBound) {\n      var _this$state = this.state,\n          bounds = _this$state.bounds,\n          recent = _this$state.recent;\n      var boundNeedMoving = closestBound;\n      var isAtTheSamePoint = bounds[closestBound + 1] === bounds[closestBound];\n\n      if (isAtTheSamePoint && bounds[recent] === bounds[closestBound]) {\n        boundNeedMoving = recent;\n      }\n\n      if (isAtTheSamePoint && value !== bounds[closestBound + 1]) {\n        boundNeedMoving = value < bounds[closestBound + 1] ? closestBound : closestBound + 1;\n      }\n\n      return boundNeedMoving;\n    }\n  }, {\n    key: \"getLowerBound\",\n    value: function getLowerBound() {\n      return this.state.bounds[0];\n    }\n  }, {\n    key: \"getUpperBound\",\n    value: function getUpperBound() {\n      var bounds = this.state.bounds;\n      return bounds[bounds.length - 1];\n    }\n    /**\n     * Returns an array of possible slider points, taking into account both\n     * `marks` and `step`. The result is cached.\n     */\n\n  }, {\n    key: \"getPoints\",\n    value: function getPoints() {\n      var _this$props3 = this.props,\n          marks = _this$props3.marks,\n          step = _this$props3.step,\n          min = _this$props3.min,\n          max = _this$props3.max;\n      var cache = this.internalPointsCache;\n\n      if (!cache || cache.marks !== marks || cache.step !== step) {\n        var pointsObject = _objectSpread({}, marks);\n\n        if (step !== null) {\n          for (var point = min; point <= max; point += step) {\n            pointsObject[point] = point;\n          }\n        }\n\n        var points = Object.keys(pointsObject).map(parseFloat);\n        points.sort(function (a, b) {\n          return a - b;\n        });\n        this.internalPointsCache = {\n          marks: marks,\n          step: step,\n          points: points\n        };\n      }\n\n      return this.internalPointsCache.points;\n    }\n  }, {\n    key: \"moveTo\",\n    value: function moveTo(value, isFromKeyboardEvent) {\n      var _this3 = this;\n\n      var state = this.state,\n          props = this.props;\n      var nextBounds = (0, _toConsumableArray2.default)(state.bounds);\n      var handle = state.handle === null ? state.recent : state.handle;\n      nextBounds[handle] = value;\n      var nextHandle = handle;\n\n      if (props.pushable !== false) {\n        this.pushSurroundingHandles(nextBounds, nextHandle);\n      } else if (props.allowCross) {\n        nextBounds.sort(function (a, b) {\n          return a - b;\n        });\n        nextHandle = nextBounds.indexOf(value);\n      }\n\n      this.onChange({\n        recent: nextHandle,\n        handle: nextHandle,\n        bounds: nextBounds\n      });\n\n      if (isFromKeyboardEvent) {\n        // known problem: because setState is async,\n        // so trigger focus will invoke handler's onEnd and another handler's onStart too early,\n        // cause onBeforeChange and onAfterChange receive wrong value.\n        // here use setState callback to hack，but not elegant\n        this.props.onAfterChange(nextBounds);\n        this.setState({}, function () {\n          _this3.handlesRefs[nextHandle].focus();\n        });\n        this.onEnd();\n      }\n    }\n  }, {\n    key: \"pushSurroundingHandles\",\n    value: function pushSurroundingHandles(bounds, handle) {\n      var value = bounds[handle];\n      var pushable = this.props.pushable;\n      var threshold = Number(pushable);\n      var direction = 0;\n\n      if (bounds[handle + 1] - value < threshold) {\n        direction = +1; // push to right\n      }\n\n      if (value - bounds[handle - 1] < threshold) {\n        direction = -1; // push to left\n      }\n\n      if (direction === 0) {\n        return;\n      }\n\n      var nextHandle = handle + direction;\n      var diffToNext = direction * (bounds[nextHandle] - value);\n\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\n        // revert to original value if pushing is impossible\n        // eslint-disable-next-line no-param-reassign\n        bounds[handle] = bounds[nextHandle] - direction * threshold;\n      }\n    }\n  }, {\n    key: \"pushHandle\",\n    value: function pushHandle(bounds, handle, direction, amount) {\n      var originalValue = bounds[handle];\n      var currentValue = bounds[handle];\n\n      while (direction * (currentValue - originalValue) < amount) {\n        if (!this.pushHandleOnePoint(bounds, handle, direction)) {\n          // can't push handle enough to create the needed `amount` gap, so we\n          // revert its position to the original value\n          // eslint-disable-next-line no-param-reassign\n          bounds[handle] = originalValue;\n          return false;\n        }\n\n        currentValue = bounds[handle];\n      } // the handle was pushed enough to create the needed `amount` gap\n\n\n      return true;\n    }\n  }, {\n    key: \"pushHandleOnePoint\",\n    value: function pushHandleOnePoint(bounds, handle, direction) {\n      var points = this.getPoints();\n      var pointIndex = points.indexOf(bounds[handle]);\n      var nextPointIndex = pointIndex + direction;\n\n      if (nextPointIndex >= points.length || nextPointIndex < 0) {\n        // reached the minimum or maximum available point, can't push anymore\n        return false;\n      }\n\n      var nextHandle = handle + direction;\n      var nextValue = points[nextPointIndex];\n      var pushable = this.props.pushable;\n      var threshold = Number(pushable);\n      var diffToNext = direction * (bounds[nextHandle] - nextValue);\n\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\n        // couldn't push next handle, so we won't push this one either\n        return false;\n      } // push the handle\n      // eslint-disable-next-line no-param-reassign\n\n\n      bounds[handle] = nextValue;\n      return true;\n    }\n  }, {\n    key: \"trimAlignValue\",\n    value: function trimAlignValue(value) {\n      var _this$state2 = this.state,\n          handle = _this$state2.handle,\n          bounds = _this$state2.bounds;\n      return _trimAlignValue({\n        value: value,\n        handle: handle,\n        bounds: bounds,\n        props: this.props\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state3 = this.state,\n          handle = _this$state3.handle,\n          bounds = _this$state3.bounds;\n      var _this$props4 = this.props,\n          prefixCls = _this$props4.prefixCls,\n          vertical = _this$props4.vertical,\n          included = _this$props4.included,\n          disabled = _this$props4.disabled,\n          min = _this$props4.min,\n          max = _this$props4.max,\n          reverse = _this$props4.reverse,\n          handleGenerator = _this$props4.handle,\n          trackStyle = _this$props4.trackStyle,\n          handleStyle = _this$props4.handleStyle,\n          tabIndex = _this$props4.tabIndex,\n          ariaLabelGroupForHandles = _this$props4.ariaLabelGroupForHandles,\n          ariaLabelledByGroupForHandles = _this$props4.ariaLabelledByGroupForHandles,\n          ariaValueTextFormatterGroupForHandles = _this$props4.ariaValueTextFormatterGroupForHandles;\n      var offsets = bounds.map(function (v) {\n        return _this4.calcOffset(v);\n      });\n      var handleClassName = \"\".concat(prefixCls, \"-handle\");\n      var handles = bounds.map(function (v, i) {\n        var _classNames;\n\n        var mergedTabIndex = tabIndex[i] || 0;\n\n        if (disabled || tabIndex[i] === null) {\n          mergedTabIndex = null;\n        }\n\n        var dragging = handle === i;\n        return handleGenerator({\n          className: (0, _classnames.default)((_classNames = {}, (0, _defineProperty2.default)(_classNames, handleClassName, true), (0, _defineProperty2.default)(_classNames, \"\".concat(handleClassName, \"-\").concat(i + 1), true), (0, _defineProperty2.default)(_classNames, \"\".concat(handleClassName, \"-dragging\"), dragging), _classNames)),\n          prefixCls: prefixCls,\n          vertical: vertical,\n          dragging: dragging,\n          offset: offsets[i],\n          value: v,\n          index: i,\n          tabIndex: mergedTabIndex,\n          min: min,\n          max: max,\n          reverse: reverse,\n          disabled: disabled,\n          style: handleStyle[i],\n          ref: function ref(h) {\n            return _this4.saveHandle(i, h);\n          },\n          ariaLabel: ariaLabelGroupForHandles[i],\n          ariaLabelledBy: ariaLabelledByGroupForHandles[i],\n          ariaValueTextFormatter: ariaValueTextFormatterGroupForHandles[i]\n        });\n      });\n      var tracks = bounds.slice(0, -1).map(function (_, index) {\n        var _classNames2;\n\n        var i = index + 1;\n        var trackClassName = (0, _classnames.default)((_classNames2 = {}, (0, _defineProperty2.default)(_classNames2, \"\".concat(prefixCls, \"-track\"), true), (0, _defineProperty2.default)(_classNames2, \"\".concat(prefixCls, \"-track-\").concat(i), true), _classNames2));\n        return _react.default.createElement(_Track.default, {\n          className: trackClassName,\n          vertical: vertical,\n          reverse: reverse,\n          included: included,\n          offset: offsets[i - 1],\n          length: offsets[i] - offsets[i - 1],\n          style: trackStyle[index],\n          key: i\n        });\n      });\n      return {\n        tracks: tracks,\n        handles: handles\n      };\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if ('value' in props || 'min' in props || 'max' in props) {\n        var value = props.value || state.bounds;\n        var nextBounds = value.map(function (v, i) {\n          return _trimAlignValue({\n            value: v,\n            handle: i,\n            bounds: state.bounds,\n            props: props\n          });\n        });\n\n        if (nextBounds.length === state.bounds.length && nextBounds.every(function (v, i) {\n          return v === state.bounds[i];\n        })) {\n          return null;\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          bounds: nextBounds\n        });\n      }\n\n      return null;\n    }\n  }]);\n  return Range;\n}(_react.default.Component);\n/* eslint-enable */\n\n\nRange.displayName = 'Range';\nRange.defaultProps = {\n  count: 1,\n  allowCross: true,\n  pushable: false,\n  tabIndex: [],\n  ariaLabelGroupForHandles: [],\n  ariaLabelledByGroupForHandles: [],\n  ariaValueTextFormatterGroupForHandles: []\n};\n\nvar _default = (0, _createSlider.default)(Range);\n\nexports.default = _default;","map":{"version":3,"sources":["/home/abefernan/cosmwasm/dApps/node_modules/rc-slider/lib/Range.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_defineProperty2","_toConsumableArray2","_classCallCheck2","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_react","_classnames","_shallowequal","_Track","_createSlider","utils","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_trimAlignValue","trimAlignValue","_ref","handle","bounds","props","allowCross","pushable","thershold","Number","valInRange","ensureValueInRange","valNotConflict","undefined","ensureValuePrecision","Range","_React$Component","_super","_this","onEnd","force","state","removeDocumentEvents","onAfterChange","getValue","setState","count","min","max","initialValue","Array","map","defaultValue","v","recent","calcValueByPos","calcOffset","saveHandle","index","h","componentDidUpdate","prevProps","prevState","_this2","_this$props","onChange","currentValue","some","isValueOutOfRange","newValues","isNotControlled","controlledState","item","data","changedValue","onStart","position","onBeforeChange","startValue","startPosition","closestBound","getClosestBound","prevMovedHandleIndex","getBoundNeedMoving","prevValue","nextBounds","onMove","pauseEvent","oldValue","moveTo","onKeyboard","_this$props2","reverse","vertical","valueMutator","getKeyboardValueMutator","mutatedValue","isFromKeyboardEvent","Math","abs","_this$state","boundNeedMoving","isAtTheSamePoint","getLowerBound","getUpperBound","getPoints","_this$props3","marks","step","cache","internalPointsCache","pointsObject","point","points","parseFloat","sort","a","b","_this3","nextHandle","pushSurroundingHandles","indexOf","handlesRefs","focus","threshold","direction","diffToNext","pushHandle","amount","originalValue","pushHandleOnePoint","pointIndex","nextPointIndex","nextValue","_this$state2","render","_this4","_this$state3","_this$props4","prefixCls","included","disabled","handleGenerator","trackStyle","handleStyle","tabIndex","ariaLabelGroupForHandles","ariaLabelledByGroupForHandles","ariaValueTextFormatterGroupForHandles","offsets","handleClassName","concat","handles","_classNames","mergedTabIndex","dragging","className","offset","style","ref","ariaLabel","ariaLabelledBy","ariaValueTextFormatter","tracks","slice","_","_classNames2","trackClassName","createElement","getDerivedStateFromProps","every","Component","displayName","defaultProps","_default"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAArC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAAD,CAApC;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AAEA,IAAIC,gBAAgB,GAAGN,sBAAsB,CAACD,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIQ,mBAAmB,GAAGP,sBAAsB,CAACD,OAAO,CAAC,0CAAD,CAAR,CAAhD;;AAEA,IAAIS,gBAAgB,GAAGR,sBAAsB,CAACD,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIU,aAAa,GAAGT,sBAAsB,CAACD,OAAO,CAAC,oCAAD,CAAR,CAA1C;;AAEA,IAAIW,UAAU,GAAGV,sBAAsB,CAACD,OAAO,CAAC,iCAAD,CAAR,CAAvC;;AAEA,IAAIY,2BAA2B,GAAGX,sBAAsB,CAACD,OAAO,CAAC,kDAAD,CAAR,CAAxD;;AAEA,IAAIa,gBAAgB,GAAGZ,sBAAsB,CAACD,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIc,MAAM,GAAGb,sBAAsB,CAACD,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIe,WAAW,GAAGd,sBAAsB,CAACD,OAAO,CAAC,YAAD,CAAR,CAAxC;;AAEA,IAAIgB,aAAa,GAAGf,sBAAsB,CAACD,OAAO,CAAC,cAAD,CAAR,CAA1C;;AAEA,IAAIiB,MAAM,GAAGhB,sBAAsB,CAACD,OAAO,CAAC,gBAAD,CAAR,CAAnC;;AAEA,IAAIkB,aAAa,GAAGjB,sBAAsB,CAACD,OAAO,CAAC,uBAAD,CAAR,CAA1C;;AAEA,IAAImB,KAAK,GAAGpB,uBAAuB,CAACC,OAAO,CAAC,SAAD,CAAR,CAAnC;;AAEA,SAASoB,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIC,IAAI,GAAGrB,MAAM,CAACqB,IAAP,CAAYF,MAAZ,CAAX;;AAAgC,MAAInB,MAAM,CAACsB,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAGvB,MAAM,CAACsB,qBAAP,CAA6BH,MAA7B,CAAd;AAAoD,QAAIC,cAAJ,EAAoBG,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,aAAOzB,MAAM,CAAC0B,wBAAP,CAAgCP,MAAhC,EAAwCM,GAAxC,EAA6CE,UAApD;AAAiE,KAAjG,CAAV;AAA8GN,IAAAA,IAAI,CAACO,IAAL,CAAUC,KAAV,CAAgBR,IAAhB,EAAsBE,OAAtB;AAAiC;;AAAC,SAAOF,IAAP;AAAc;;AAErV,SAASS,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;AAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;AAAEd,MAAAA,OAAO,CAAClB,MAAM,CAACmC,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUC,GAAV,EAAe;AAAE,SAAC,GAAGhC,gBAAgB,CAACD,OAArB,EAA8B2B,MAA9B,EAAsCM,GAAtC,EAA2CF,MAAM,CAACE,GAAD,CAAjD;AAA0D,OAAjH;AAAqH,KAAlI,MAAwI,IAAIrC,MAAM,CAACsC,yBAAX,EAAsC;AAAEtC,MAAAA,MAAM,CAACuC,gBAAP,CAAwBR,MAAxB,EAAgC/B,MAAM,CAACsC,yBAAP,CAAiCH,MAAjC,CAAhC;AAA4E,KAApH,MAA0H;AAAEjB,MAAAA,OAAO,CAAClB,MAAM,CAACmC,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;AAAErC,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8BM,GAA9B,EAAmCrC,MAAM,CAAC0B,wBAAP,CAAgCS,MAAhC,EAAwCE,GAAxC,CAAnC;AAAmF,OAApI;AAAwI;AAAE;;AAAC,SAAON,MAAP;AAAgB;;AAEpiB,SAASS,YAAT,CAAsBC,OAAtB,EAA+B;AAAE,MAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AAA6D,SAAO,SAASC,oBAAT,GAAgC;AAAE,QAAIC,KAAK,GAAG,CAAC,GAAGlC,gBAAgB,CAACP,OAArB,EAA8BqC,OAA9B,CAAZ;AAAA,QAAoDK,MAApD;;AAA4D,QAAIJ,yBAAJ,EAA+B;AAAE,UAAIK,SAAS,GAAG,CAAC,GAAGpC,gBAAgB,CAACP,OAArB,EAA8B,IAA9B,EAAoC4C,WAApD;AAAiEF,MAAAA,MAAM,GAAGG,OAAO,CAACC,SAAR,CAAkBL,KAAlB,EAAyBZ,SAAzB,EAAoCc,SAApC,CAAT;AAA0D,KAA5J,MAAkK;AAAED,MAAAA,MAAM,GAAGD,KAAK,CAAChB,KAAN,CAAY,IAAZ,EAAkBI,SAAlB,CAAT;AAAwC;;AAAC,WAAO,CAAC,GAAGvB,2BAA2B,CAACN,OAAhC,EAAyC,IAAzC,EAA+C0C,MAA/C,CAAP;AAAgE,GAAlX;AAAqX;;AAEnd,SAASH,yBAAT,GAAqC;AAAE,MAAI,OAAOM,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;AAAc,MAAID,OAAO,CAACC,SAAR,CAAkBC,IAAtB,EAA4B,OAAO,KAAP;AAAc,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAAa,MAAI;AAAEC,IAAAA,IAAI,CAACC,SAAL,CAAeC,QAAf,CAAwBC,IAAxB,CAA6BP,OAAO,CAACC,SAAR,CAAkBG,IAAlB,EAAwB,EAAxB,EAA4B,YAAY,CAAE,CAA1C,CAA7B;AAA2E,WAAO,IAAP;AAAc,GAA/F,CAAgG,OAAOI,CAAP,EAAU;AAAE,WAAO,KAAP;AAAe;AAAE;;AAEpU,IAAIC,eAAe,GAAG,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;AAClD,MAAIzD,KAAK,GAAGyD,IAAI,CAACzD,KAAjB;AAAA,MACI0D,MAAM,GAAGD,IAAI,CAACC,MADlB;AAAA,MAEIC,MAAM,GAAGF,IAAI,CAACE,MAFlB;AAAA,MAGIC,KAAK,GAAGH,IAAI,CAACG,KAHjB;AAIA,MAAIC,UAAU,GAAGD,KAAK,CAACC,UAAvB;AAAA,MACIC,QAAQ,GAAGF,KAAK,CAACE,QADrB;AAEA,MAAIC,SAAS,GAAGC,MAAM,CAACF,QAAD,CAAtB;AACA,MAAIG,UAAU,GAAGnD,KAAK,CAACoD,kBAAN,CAAyBlE,KAAzB,EAAgC4D,KAAhC,CAAjB;AACA,MAAIO,cAAc,GAAGF,UAArB;;AAEA,MAAI,CAACJ,UAAD,IAAeH,MAAM,IAAI,IAAzB,IAAiCC,MAAM,KAAKS,SAAhD,EAA2D;AACzD,QAAIV,MAAM,GAAG,CAAT,IAAcO,UAAU,IAAIN,MAAM,CAACD,MAAM,GAAG,CAAV,CAAN,GAAqBK,SAArD,EAAgE;AAC9DI,MAAAA,cAAc,GAAGR,MAAM,CAACD,MAAM,GAAG,CAAV,CAAN,GAAqBK,SAAtC;AACD;;AAED,QAAIL,MAAM,GAAGC,MAAM,CAAC5B,MAAP,GAAgB,CAAzB,IAA8BkC,UAAU,IAAIN,MAAM,CAACD,MAAM,GAAG,CAAV,CAAN,GAAqBK,SAArE,EAAgF;AAC9EI,MAAAA,cAAc,GAAGR,MAAM,CAACD,MAAM,GAAG,CAAV,CAAN,GAAqBK,SAAtC;AACD;AACF;;AAED,SAAOjD,KAAK,CAACuD,oBAAN,CAA2BF,cAA3B,EAA2CP,KAA3C,CAAP;AACD,CAtBD;;AAwBA,IAAIU,KAAK,GAAG,aAAa,UAAUC,gBAAV,EAA4B;AACnD,GAAC,GAAGjE,UAAU,CAACL,OAAf,EAAwBqE,KAAxB,EAA+BC,gBAA/B;;AAEA,MAAIC,MAAM,GAAGnC,YAAY,CAACiC,KAAD,CAAzB;;AAEA,WAASA,KAAT,CAAeV,KAAf,EAAsB;AACpB,QAAIa,KAAJ;;AAEA,KAAC,GAAGrE,gBAAgB,CAACH,OAArB,EAA8B,IAA9B,EAAoCqE,KAApC;AACAG,IAAAA,KAAK,GAAGD,MAAM,CAACnB,IAAP,CAAY,IAAZ,EAAkBO,KAAlB,CAAR;;AAEAa,IAAAA,KAAK,CAACC,KAAN,GAAc,UAAUC,KAAV,EAAiB;AAC7B,UAAIjB,MAAM,GAAGe,KAAK,CAACG,KAAN,CAAYlB,MAAzB;;AAEAe,MAAAA,KAAK,CAACI,oBAAN;;AAEA,UAAInB,MAAM,KAAK,IAAX,IAAmBiB,KAAvB,EAA8B;AAC5BF,QAAAA,KAAK,CAACb,KAAN,CAAYkB,aAAZ,CAA0BL,KAAK,CAACM,QAAN,EAA1B;AACD;;AAEDN,MAAAA,KAAK,CAACO,QAAN,CAAe;AACbtB,QAAAA,MAAM,EAAE;AADK,OAAf;AAGD,KAZD;;AAcA,QAAIuB,KAAK,GAAGrB,KAAK,CAACqB,KAAlB;AAAA,QACIC,GAAG,GAAGtB,KAAK,CAACsB,GADhB;AAAA,QAEIC,GAAG,GAAGvB,KAAK,CAACuB,GAFhB;AAGA,QAAIC,YAAY,GAAGC,KAAK,CAAC3D,KAAN,CAAY,KAAK,CAAjB,EAAoB,CAAC,GAAGvB,mBAAmB,CAACF,OAAxB,EAAiCoF,KAAK,CAACJ,KAAK,GAAG,CAAT,CAAtC,CAApB,EAAwEK,GAAxE,CAA4E,YAAY;AACzG,aAAOJ,GAAP;AACD,KAFkB,CAAnB;AAGA,QAAIK,YAAY,GAAG,kBAAkB3B,KAAlB,GAA0BA,KAAK,CAAC2B,YAAhC,GAA+CH,YAAlE;AACA,QAAIpF,KAAK,GAAG4D,KAAK,CAAC5D,KAAN,KAAgBoE,SAAhB,GAA4BR,KAAK,CAAC5D,KAAlC,GAA0CuF,YAAtD;AACA,QAAI5B,MAAM,GAAG3D,KAAK,CAACsF,GAAN,CAAU,UAAUE,CAAV,EAAa3D,CAAb,EAAgB;AACrC,aAAO0B,eAAe,CAAC;AACrBvD,QAAAA,KAAK,EAAEwF,CADc;AAErB9B,QAAAA,MAAM,EAAE7B,CAFa;AAGrB+B,QAAAA,KAAK,EAAEA;AAHc,OAAD,CAAtB;AAKD,KANY,CAAb;AAOA,QAAI6B,MAAM,GAAG9B,MAAM,CAAC,CAAD,CAAN,KAAcwB,GAAd,GAAoB,CAApB,GAAwBxB,MAAM,CAAC5B,MAAP,GAAgB,CAArD;AACA0C,IAAAA,KAAK,CAACG,KAAN,GAAc;AACZlB,MAAAA,MAAM,EAAE,IADI;AAEZ+B,MAAAA,MAAM,EAAEA,MAFI;AAGZ9B,MAAAA,MAAM,EAAEA;AAHI,KAAd;AAKA,WAAOc,KAAP;AACD;AACD;;;;;AAKA;;;AAGA,GAAC,GAAGpE,aAAa,CAACJ,OAAlB,EAA2BqE,KAA3B,EAAkC,CAAC;AACjCpC,IAAAA,GAAG,EAAE,gBAD4B;AAEjClC,IAAAA,KAAK,EAAE,SAAS0F,cAAT,CAAwB1F,KAAxB,EAA+B;AACpC,aAAO,CAAP;AACD;AAJgC,GAAD,EAK/B;AACDkC,IAAAA,GAAG,EAAE,YADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS2F,UAAT,CAAoB3F,KAApB,EAA2B;AAChC,aAAO,CAAP;AACD;AAJA,GAL+B,EAU/B;AACDkC,IAAAA,GAAG,EAAE,YADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS4F,UAAT,CAAoBC,KAApB,EAA2BC,CAA3B,EAA8B,CAAE;AAFtC,GAV+B,EAa/B;AACD5D,IAAAA,GAAG,EAAE,sBADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS6E,oBAAT,GAAgC,CAAE;AAFxC,GAb+B,EAgB/B;AACD3C,IAAAA,GAAG,EAAE,oBADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS+F,kBAAT,CAA4BC,SAA5B,EAAuCC,SAAvC,EAAkD;AACvD,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAI,EAAE,WAAW,KAAKtC,KAAhB,IAAyB,SAAS,KAAKA,KAAvC,IAAgD,SAAS,KAAKA,KAAhE,CAAJ,EAA4E;AAC1E;AACD;;AAED,UAAI,KAAKA,KAAL,CAAWsB,GAAX,KAAmBc,SAAS,CAACd,GAA7B,IAAoC,KAAKtB,KAAL,CAAWuB,GAAX,KAAmBa,SAAS,CAACb,GAAjE,IAAwE,CAAC,GAAGxE,aAAa,CAACV,OAAlB,EAA2B,KAAK2D,KAAL,CAAW5D,KAAtC,EAA6CgG,SAAS,CAAChG,KAAvD,CAA5E,EAA2I;AACzI;AACD;;AAED,UAAImG,WAAW,GAAG,KAAKvC,KAAvB;AAAA,UACIwC,QAAQ,GAAGD,WAAW,CAACC,QAD3B;AAAA,UAEIpG,KAAK,GAAGmG,WAAW,CAACnG,KAFxB;AAGA,UAAIqG,YAAY,GAAGrG,KAAK,IAAIiG,SAAS,CAACtC,MAAtC;;AAEA,UAAI0C,YAAY,CAACC,IAAb,CAAkB,UAAUd,CAAV,EAAa;AACjC,eAAO1E,KAAK,CAACyF,iBAAN,CAAwBf,CAAxB,EAA2BU,MAAM,CAACtC,KAAlC,CAAP;AACD,OAFG,CAAJ,EAEI;AACF,YAAI4C,SAAS,GAAGH,YAAY,CAACf,GAAb,CAAiB,UAAUE,CAAV,EAAa;AAC5C,iBAAO1E,KAAK,CAACoD,kBAAN,CAAyBsB,CAAzB,EAA4BU,MAAM,CAACtC,KAAnC,CAAP;AACD,SAFe,CAAhB;AAGAwC,QAAAA,QAAQ,CAACI,SAAD,CAAR;AACD;AACF;AA1BA,GAhB+B,EA2C/B;AACDtE,IAAAA,GAAG,EAAE,UADJ;AAEDlC,IAAAA,KAAK,EAAE,SAASoG,QAAT,CAAkBxB,KAAlB,EAAyB;AAC9B,UAAIhB,KAAK,GAAG,KAAKA,KAAjB;AACA,UAAI6C,eAAe,GAAG,EAAE,WAAW7C,KAAb,CAAtB;;AAEA,UAAI6C,eAAJ,EAAqB;AACnB,aAAKzB,QAAL,CAAcJ,KAAd;AACD,OAFD,MAEO;AACL,YAAI8B,eAAe,GAAG,EAAtB;AACA,SAAC,QAAD,EAAW,QAAX,EAAqBzE,OAArB,CAA6B,UAAU0E,IAAV,EAAgB;AAC3C,cAAI/B,KAAK,CAAC+B,IAAD,CAAL,KAAgBvC,SAApB,EAA+B;AAC7BsC,YAAAA,eAAe,CAACC,IAAD,CAAf,GAAwB/B,KAAK,CAAC+B,IAAD,CAA7B;AACD;AACF,SAJD;;AAMA,YAAI9G,MAAM,CAACqB,IAAP,CAAYwF,eAAZ,EAA6B3E,MAAjC,EAAyC;AACvC,eAAKiD,QAAL,CAAc0B,eAAd;AACD;AACF;;AAED,UAAIE,IAAI,GAAGjF,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK,KAAKiD,KAAV,CAAd,EAAgCA,KAAhC,CAAxB;;AAEA,UAAIiC,YAAY,GAAGD,IAAI,CAACjD,MAAxB;AACAC,MAAAA,KAAK,CAACwC,QAAN,CAAeS,YAAf;AACD;AAzBA,GA3C+B,EAqE/B;AACD3E,IAAAA,GAAG,EAAE,SADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS8G,OAAT,CAAiBC,QAAjB,EAA2B;AAChC,UAAInD,KAAK,GAAG,KAAKA,KAAjB;AAAA,UACIgB,KAAK,GAAG,KAAKA,KADjB;AAEA,UAAIjB,MAAM,GAAG,KAAKoB,QAAL,EAAb;AACAnB,MAAAA,KAAK,CAACoD,cAAN,CAAqBrD,MAArB;AACA,UAAI3D,KAAK,GAAG,KAAK0F,cAAL,CAAoBqB,QAApB,CAAZ;AACA,WAAKE,UAAL,GAAkBjH,KAAlB;AACA,WAAKkH,aAAL,GAAqBH,QAArB;AACA,UAAII,YAAY,GAAG,KAAKC,eAAL,CAAqBpH,KAArB,CAAnB;AACA,WAAKqH,oBAAL,GAA4B,KAAKC,kBAAL,CAAwBtH,KAAxB,EAA+BmH,YAA/B,CAA5B;AACA,WAAKnC,QAAL,CAAc;AACZtB,QAAAA,MAAM,EAAE,KAAK2D,oBADD;AAEZ5B,QAAAA,MAAM,EAAE,KAAK4B;AAFD,OAAd;AAIA,UAAIE,SAAS,GAAG5D,MAAM,CAAC,KAAK0D,oBAAN,CAAtB;AACA,UAAIrH,KAAK,KAAKuH,SAAd,EAAyB;AACzB,UAAIC,UAAU,GAAG,CAAC,GAAGrH,mBAAmB,CAACF,OAAxB,EAAiC2E,KAAK,CAACjB,MAAvC,CAAjB;AACA6D,MAAAA,UAAU,CAAC,KAAKH,oBAAN,CAAV,GAAwCrH,KAAxC;AACA,WAAKoG,QAAL,CAAc;AACZzC,QAAAA,MAAM,EAAE6D;AADI,OAAd;AAGD;AAvBA,GArE+B,EA6F/B;AACDtF,IAAAA,GAAG,EAAE,QADJ;AAEDlC,IAAAA,KAAK,EAAE,SAASyH,MAAT,CAAgBnE,CAAhB,EAAmByD,QAAnB,EAA6B;AAClCjG,MAAAA,KAAK,CAAC4G,UAAN,CAAiBpE,CAAjB;AACA,UAAIsB,KAAK,GAAG,KAAKA,KAAjB;AACA,UAAI5E,KAAK,GAAG,KAAK0F,cAAL,CAAoBqB,QAApB,CAAZ;AACA,UAAIY,QAAQ,GAAG/C,KAAK,CAACjB,MAAN,CAAaiB,KAAK,CAAClB,MAAnB,CAAf;AACA,UAAI1D,KAAK,KAAK2H,QAAd,EAAwB;AACxB,WAAKC,MAAL,CAAY5H,KAAZ;AACD;AATA,GA7F+B,EAuG/B;AACDkC,IAAAA,GAAG,EAAE,YADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS6H,UAAT,CAAoBvE,CAApB,EAAuB;AAC5B,UAAIwE,YAAY,GAAG,KAAKlE,KAAxB;AAAA,UACImE,OAAO,GAAGD,YAAY,CAACC,OAD3B;AAAA,UAEIC,QAAQ,GAAGF,YAAY,CAACE,QAF5B;AAGA,UAAIC,YAAY,GAAGnH,KAAK,CAACoH,uBAAN,CAA8B5E,CAA9B,EAAiC0E,QAAjC,EAA2CD,OAA3C,CAAnB;;AAEA,UAAIE,YAAJ,EAAkB;AAChBnH,QAAAA,KAAK,CAAC4G,UAAN,CAAiBpE,CAAjB;AACA,YAAIsB,KAAK,GAAG,KAAKA,KAAjB;AAAA,YACIhB,KAAK,GAAG,KAAKA,KADjB;AAEA,YAAID,MAAM,GAAGiB,KAAK,CAACjB,MAAnB;AAAA,YACID,MAAM,GAAGkB,KAAK,CAAClB,MADnB;AAEA,YAAIiE,QAAQ,GAAGhE,MAAM,CAACD,MAAM,KAAK,IAAX,GAAkBkB,KAAK,CAACa,MAAxB,GAAiC/B,MAAlC,CAArB;AACA,YAAIyE,YAAY,GAAGF,YAAY,CAACN,QAAD,EAAW/D,KAAX,CAA/B;;AAEA,YAAI5D,KAAK,GAAGuD,eAAe,CAAC;AAC1BvD,UAAAA,KAAK,EAAEmI,YADmB;AAE1BzE,UAAAA,MAAM,EAAEA,MAFkB;AAG1BC,UAAAA,MAAM,EAAEiB,KAAK,CAACjB,MAHY;AAI1BC,UAAAA,KAAK,EAAEA;AAJmB,SAAD,CAA3B;;AAOA,YAAI5D,KAAK,KAAK2H,QAAd,EAAwB;AACxB,YAAIS,mBAAmB,GAAG,IAA1B;AACA,aAAKR,MAAL,CAAY5H,KAAZ,EAAmBoI,mBAAnB;AACD;AACF;AA5BA,GAvG+B,EAoI/B;AACDlG,IAAAA,GAAG,EAAE,UADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS+E,QAAT,GAAoB;AACzB,aAAO,KAAKH,KAAL,CAAWjB,MAAlB;AACD;AAJA,GApI+B,EAyI/B;AACDzB,IAAAA,GAAG,EAAE,iBADJ;AAEDlC,IAAAA,KAAK,EAAE,SAASoH,eAAT,CAAyBpH,KAAzB,EAAgC;AACrC,UAAI2D,MAAM,GAAG,KAAKiB,KAAL,CAAWjB,MAAxB;AACA,UAAIwD,YAAY,GAAG,CAAnB;;AAEA,WAAK,IAAItF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8B,MAAM,CAAC5B,MAAP,GAAgB,CAApC,EAAuCF,CAAC,IAAI,CAA5C,EAA+C;AAC7C,YAAI7B,KAAK,IAAI2D,MAAM,CAAC9B,CAAD,CAAnB,EAAwB;AACtBsF,UAAAA,YAAY,GAAGtF,CAAf;AACD;AACF;;AAED,UAAIwG,IAAI,CAACC,GAAL,CAAS3E,MAAM,CAACwD,YAAY,GAAG,CAAhB,CAAN,GAA2BnH,KAApC,IAA6CqI,IAAI,CAACC,GAAL,CAAS3E,MAAM,CAACwD,YAAD,CAAN,GAAuBnH,KAAhC,CAAjD,EAAyF;AACvFmH,QAAAA,YAAY,IAAI,CAAhB;AACD;;AAED,aAAOA,YAAP;AACD;AAjBA,GAzI+B,EA2J/B;AACDjF,IAAAA,GAAG,EAAE,oBADJ;AAEDlC,IAAAA,KAAK,EAAE,SAASsH,kBAAT,CAA4BtH,KAA5B,EAAmCmH,YAAnC,EAAiD;AACtD,UAAIoB,WAAW,GAAG,KAAK3D,KAAvB;AAAA,UACIjB,MAAM,GAAG4E,WAAW,CAAC5E,MADzB;AAAA,UAEI8B,MAAM,GAAG8C,WAAW,CAAC9C,MAFzB;AAGA,UAAI+C,eAAe,GAAGrB,YAAtB;AACA,UAAIsB,gBAAgB,GAAG9E,MAAM,CAACwD,YAAY,GAAG,CAAhB,CAAN,KAA6BxD,MAAM,CAACwD,YAAD,CAA1D;;AAEA,UAAIsB,gBAAgB,IAAI9E,MAAM,CAAC8B,MAAD,CAAN,KAAmB9B,MAAM,CAACwD,YAAD,CAAjD,EAAiE;AAC/DqB,QAAAA,eAAe,GAAG/C,MAAlB;AACD;;AAED,UAAIgD,gBAAgB,IAAIzI,KAAK,KAAK2D,MAAM,CAACwD,YAAY,GAAG,CAAhB,CAAxC,EAA4D;AAC1DqB,QAAAA,eAAe,GAAGxI,KAAK,GAAG2D,MAAM,CAACwD,YAAY,GAAG,CAAhB,CAAd,GAAmCA,YAAnC,GAAkDA,YAAY,GAAG,CAAnF;AACD;;AAED,aAAOqB,eAAP;AACD;AAlBA,GA3J+B,EA8K/B;AACDtG,IAAAA,GAAG,EAAE,eADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS0I,aAAT,GAAyB;AAC9B,aAAO,KAAK9D,KAAL,CAAWjB,MAAX,CAAkB,CAAlB,CAAP;AACD;AAJA,GA9K+B,EAmL/B;AACDzB,IAAAA,GAAG,EAAE,eADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS2I,aAAT,GAAyB;AAC9B,UAAIhF,MAAM,GAAG,KAAKiB,KAAL,CAAWjB,MAAxB;AACA,aAAOA,MAAM,CAACA,MAAM,CAAC5B,MAAP,GAAgB,CAAjB,CAAb;AACD;AACD;;;;;AANC,GAnL+B,EA8L/B;AACDG,IAAAA,GAAG,EAAE,WADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS4I,SAAT,GAAqB;AAC1B,UAAIC,YAAY,GAAG,KAAKjF,KAAxB;AAAA,UACIkF,KAAK,GAAGD,YAAY,CAACC,KADzB;AAAA,UAEIC,IAAI,GAAGF,YAAY,CAACE,IAFxB;AAAA,UAGI7D,GAAG,GAAG2D,YAAY,CAAC3D,GAHvB;AAAA,UAIIC,GAAG,GAAG0D,YAAY,CAAC1D,GAJvB;AAKA,UAAI6D,KAAK,GAAG,KAAKC,mBAAjB;;AAEA,UAAI,CAACD,KAAD,IAAUA,KAAK,CAACF,KAAN,KAAgBA,KAA1B,IAAmCE,KAAK,CAACD,IAAN,KAAeA,IAAtD,EAA4D;AAC1D,YAAIG,YAAY,GAAGvH,aAAa,CAAC,EAAD,EAAKmH,KAAL,CAAhC;;AAEA,YAAIC,IAAI,KAAK,IAAb,EAAmB;AACjB,eAAK,IAAII,KAAK,GAAGjE,GAAjB,EAAsBiE,KAAK,IAAIhE,GAA/B,EAAoCgE,KAAK,IAAIJ,IAA7C,EAAmD;AACjDG,YAAAA,YAAY,CAACC,KAAD,CAAZ,GAAsBA,KAAtB;AACD;AACF;;AAED,YAAIC,MAAM,GAAGvJ,MAAM,CAACqB,IAAP,CAAYgI,YAAZ,EAA0B5D,GAA1B,CAA8B+D,UAA9B,CAAb;AACAD,QAAAA,MAAM,CAACE,IAAP,CAAY,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC1B,iBAAOD,CAAC,GAAGC,CAAX;AACD,SAFD;AAGA,aAAKP,mBAAL,GAA2B;AACzBH,UAAAA,KAAK,EAAEA,KADkB;AAEzBC,UAAAA,IAAI,EAAEA,IAFmB;AAGzBK,UAAAA,MAAM,EAAEA;AAHiB,SAA3B;AAKD;;AAED,aAAO,KAAKH,mBAAL,CAAyBG,MAAhC;AACD;AA/BA,GA9L+B,EA8N/B;AACDlH,IAAAA,GAAG,EAAE,QADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS4H,MAAT,CAAgB5H,KAAhB,EAAuBoI,mBAAvB,EAA4C;AACjD,UAAIqB,MAAM,GAAG,IAAb;;AAEA,UAAI7E,KAAK,GAAG,KAAKA,KAAjB;AAAA,UACIhB,KAAK,GAAG,KAAKA,KADjB;AAEA,UAAI4D,UAAU,GAAG,CAAC,GAAGrH,mBAAmB,CAACF,OAAxB,EAAiC2E,KAAK,CAACjB,MAAvC,CAAjB;AACA,UAAID,MAAM,GAAGkB,KAAK,CAAClB,MAAN,KAAiB,IAAjB,GAAwBkB,KAAK,CAACa,MAA9B,GAAuCb,KAAK,CAAClB,MAA1D;AACA8D,MAAAA,UAAU,CAAC9D,MAAD,CAAV,GAAqB1D,KAArB;AACA,UAAI0J,UAAU,GAAGhG,MAAjB;;AAEA,UAAIE,KAAK,CAACE,QAAN,KAAmB,KAAvB,EAA8B;AAC5B,aAAK6F,sBAAL,CAA4BnC,UAA5B,EAAwCkC,UAAxC;AACD,OAFD,MAEO,IAAI9F,KAAK,CAACC,UAAV,EAAsB;AAC3B2D,QAAAA,UAAU,CAAC8B,IAAX,CAAgB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC9B,iBAAOD,CAAC,GAAGC,CAAX;AACD,SAFD;AAGAE,QAAAA,UAAU,GAAGlC,UAAU,CAACoC,OAAX,CAAmB5J,KAAnB,CAAb;AACD;;AAED,WAAKoG,QAAL,CAAc;AACZX,QAAAA,MAAM,EAAEiE,UADI;AAEZhG,QAAAA,MAAM,EAAEgG,UAFI;AAGZ/F,QAAAA,MAAM,EAAE6D;AAHI,OAAd;;AAMA,UAAIY,mBAAJ,EAAyB;AACvB;AACA;AACA;AACA;AACA,aAAKxE,KAAL,CAAWkB,aAAX,CAAyB0C,UAAzB;AACA,aAAKxC,QAAL,CAAc,EAAd,EAAkB,YAAY;AAC5ByE,UAAAA,MAAM,CAACI,WAAP,CAAmBH,UAAnB,EAA+BI,KAA/B;AACD,SAFD;AAGA,aAAKpF,KAAL;AACD;AACF;AAtCA,GA9N+B,EAqQ/B;AACDxC,IAAAA,GAAG,EAAE,wBADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS2J,sBAAT,CAAgChG,MAAhC,EAAwCD,MAAxC,EAAgD;AACrD,UAAI1D,KAAK,GAAG2D,MAAM,CAACD,MAAD,CAAlB;AACA,UAAII,QAAQ,GAAG,KAAKF,KAAL,CAAWE,QAA1B;AACA,UAAIiG,SAAS,GAAG/F,MAAM,CAACF,QAAD,CAAtB;AACA,UAAIkG,SAAS,GAAG,CAAhB;;AAEA,UAAIrG,MAAM,CAACD,MAAM,GAAG,CAAV,CAAN,GAAqB1D,KAArB,GAA6B+J,SAAjC,EAA4C;AAC1CC,QAAAA,SAAS,GAAG,CAAC,CAAb,CAD0C,CAC1B;AACjB;;AAED,UAAIhK,KAAK,GAAG2D,MAAM,CAACD,MAAM,GAAG,CAAV,CAAd,GAA6BqG,SAAjC,EAA4C;AAC1CC,QAAAA,SAAS,GAAG,CAAC,CAAb,CAD0C,CAC1B;AACjB;;AAED,UAAIA,SAAS,KAAK,CAAlB,EAAqB;AACnB;AACD;;AAED,UAAIN,UAAU,GAAGhG,MAAM,GAAGsG,SAA1B;AACA,UAAIC,UAAU,GAAGD,SAAS,IAAIrG,MAAM,CAAC+F,UAAD,CAAN,GAAqB1J,KAAzB,CAA1B;;AAEA,UAAI,CAAC,KAAKkK,UAAL,CAAgBvG,MAAhB,EAAwB+F,UAAxB,EAAoCM,SAApC,EAA+CD,SAAS,GAAGE,UAA3D,CAAL,EAA6E;AAC3E;AACA;AACAtG,QAAAA,MAAM,CAACD,MAAD,CAAN,GAAiBC,MAAM,CAAC+F,UAAD,CAAN,GAAqBM,SAAS,GAAGD,SAAlD;AACD;AACF;AA5BA,GArQ+B,EAkS/B;AACD7H,IAAAA,GAAG,EAAE,YADJ;AAEDlC,IAAAA,KAAK,EAAE,SAASkK,UAAT,CAAoBvG,MAApB,EAA4BD,MAA5B,EAAoCsG,SAApC,EAA+CG,MAA/C,EAAuD;AAC5D,UAAIC,aAAa,GAAGzG,MAAM,CAACD,MAAD,CAA1B;AACA,UAAI2C,YAAY,GAAG1C,MAAM,CAACD,MAAD,CAAzB;;AAEA,aAAOsG,SAAS,IAAI3D,YAAY,GAAG+D,aAAnB,CAAT,GAA6CD,MAApD,EAA4D;AAC1D,YAAI,CAAC,KAAKE,kBAAL,CAAwB1G,MAAxB,EAAgCD,MAAhC,EAAwCsG,SAAxC,CAAL,EAAyD;AACvD;AACA;AACA;AACArG,UAAAA,MAAM,CAACD,MAAD,CAAN,GAAiB0G,aAAjB;AACA,iBAAO,KAAP;AACD;;AAED/D,QAAAA,YAAY,GAAG1C,MAAM,CAACD,MAAD,CAArB;AACD,OAd2D,CAc1D;;;AAGF,aAAO,IAAP;AACD;AApBA,GAlS+B,EAuT/B;AACDxB,IAAAA,GAAG,EAAE,oBADJ;AAEDlC,IAAAA,KAAK,EAAE,SAASqK,kBAAT,CAA4B1G,MAA5B,EAAoCD,MAApC,EAA4CsG,SAA5C,EAAuD;AAC5D,UAAIZ,MAAM,GAAG,KAAKR,SAAL,EAAb;AACA,UAAI0B,UAAU,GAAGlB,MAAM,CAACQ,OAAP,CAAejG,MAAM,CAACD,MAAD,CAArB,CAAjB;AACA,UAAI6G,cAAc,GAAGD,UAAU,GAAGN,SAAlC;;AAEA,UAAIO,cAAc,IAAInB,MAAM,CAACrH,MAAzB,IAAmCwI,cAAc,GAAG,CAAxD,EAA2D;AACzD;AACA,eAAO,KAAP;AACD;;AAED,UAAIb,UAAU,GAAGhG,MAAM,GAAGsG,SAA1B;AACA,UAAIQ,SAAS,GAAGpB,MAAM,CAACmB,cAAD,CAAtB;AACA,UAAIzG,QAAQ,GAAG,KAAKF,KAAL,CAAWE,QAA1B;AACA,UAAIiG,SAAS,GAAG/F,MAAM,CAACF,QAAD,CAAtB;AACA,UAAImG,UAAU,GAAGD,SAAS,IAAIrG,MAAM,CAAC+F,UAAD,CAAN,GAAqBc,SAAzB,CAA1B;;AAEA,UAAI,CAAC,KAAKN,UAAL,CAAgBvG,MAAhB,EAAwB+F,UAAxB,EAAoCM,SAApC,EAA+CD,SAAS,GAAGE,UAA3D,CAAL,EAA6E;AAC3E;AACA,eAAO,KAAP;AACD,OAnB2D,CAmB1D;AACF;;;AAGAtG,MAAAA,MAAM,CAACD,MAAD,CAAN,GAAiB8G,SAAjB;AACA,aAAO,IAAP;AACD;AA3BA,GAvT+B,EAmV/B;AACDtI,IAAAA,GAAG,EAAE,gBADJ;AAEDlC,IAAAA,KAAK,EAAE,SAASwD,cAAT,CAAwBxD,KAAxB,EAA+B;AACpC,UAAIyK,YAAY,GAAG,KAAK7F,KAAxB;AAAA,UACIlB,MAAM,GAAG+G,YAAY,CAAC/G,MAD1B;AAAA,UAEIC,MAAM,GAAG8G,YAAY,CAAC9G,MAF1B;AAGA,aAAOJ,eAAe,CAAC;AACrBvD,QAAAA,KAAK,EAAEA,KADc;AAErB0D,QAAAA,MAAM,EAAEA,MAFa;AAGrBC,QAAAA,MAAM,EAAEA,MAHa;AAIrBC,QAAAA,KAAK,EAAE,KAAKA;AAJS,OAAD,CAAtB;AAMD;AAZA,GAnV+B,EAgW/B;AACD1B,IAAAA,GAAG,EAAE,QADJ;AAEDlC,IAAAA,KAAK,EAAE,SAAS0K,MAAT,GAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,YAAY,GAAG,KAAKhG,KAAxB;AAAA,UACIlB,MAAM,GAAGkH,YAAY,CAAClH,MAD1B;AAAA,UAEIC,MAAM,GAAGiH,YAAY,CAACjH,MAF1B;AAGA,UAAIkH,YAAY,GAAG,KAAKjH,KAAxB;AAAA,UACIkH,SAAS,GAAGD,YAAY,CAACC,SAD7B;AAAA,UAEI9C,QAAQ,GAAG6C,YAAY,CAAC7C,QAF5B;AAAA,UAGI+C,QAAQ,GAAGF,YAAY,CAACE,QAH5B;AAAA,UAIIC,QAAQ,GAAGH,YAAY,CAACG,QAJ5B;AAAA,UAKI9F,GAAG,GAAG2F,YAAY,CAAC3F,GALvB;AAAA,UAMIC,GAAG,GAAG0F,YAAY,CAAC1F,GANvB;AAAA,UAOI4C,OAAO,GAAG8C,YAAY,CAAC9C,OAP3B;AAAA,UAQIkD,eAAe,GAAGJ,YAAY,CAACnH,MARnC;AAAA,UASIwH,UAAU,GAAGL,YAAY,CAACK,UAT9B;AAAA,UAUIC,WAAW,GAAGN,YAAY,CAACM,WAV/B;AAAA,UAWIC,QAAQ,GAAGP,YAAY,CAACO,QAX5B;AAAA,UAYIC,wBAAwB,GAAGR,YAAY,CAACQ,wBAZ5C;AAAA,UAaIC,6BAA6B,GAAGT,YAAY,CAACS,6BAbjD;AAAA,UAcIC,qCAAqC,GAAGV,YAAY,CAACU,qCAdzD;AAeA,UAAIC,OAAO,GAAG7H,MAAM,CAAC2B,GAAP,CAAW,UAAUE,CAAV,EAAa;AACpC,eAAOmF,MAAM,CAAChF,UAAP,CAAkBH,CAAlB,CAAP;AACD,OAFa,CAAd;AAGA,UAAIiG,eAAe,GAAG,GAAGC,MAAH,CAAUZ,SAAV,EAAqB,SAArB,CAAtB;AACA,UAAIa,OAAO,GAAGhI,MAAM,CAAC2B,GAAP,CAAW,UAAUE,CAAV,EAAa3D,CAAb,EAAgB;AACvC,YAAI+J,WAAJ;;AAEA,YAAIC,cAAc,GAAGT,QAAQ,CAACvJ,CAAD,CAAR,IAAe,CAApC;;AAEA,YAAImJ,QAAQ,IAAII,QAAQ,CAACvJ,CAAD,CAAR,KAAgB,IAAhC,EAAsC;AACpCgK,UAAAA,cAAc,GAAG,IAAjB;AACD;;AAED,YAAIC,QAAQ,GAAGpI,MAAM,KAAK7B,CAA1B;AACA,eAAOoJ,eAAe,CAAC;AACrBc,UAAAA,SAAS,EAAE,CAAC,GAAGrL,WAAW,CAACT,OAAhB,GAA0B2L,WAAW,GAAG,EAAd,EAAkB,CAAC,GAAG1L,gBAAgB,CAACD,OAArB,EAA8B2L,WAA9B,EAA2CH,eAA3C,EAA4D,IAA5D,CAAlB,EAAqF,CAAC,GAAGvL,gBAAgB,CAACD,OAArB,EAA8B2L,WAA9B,EAA2C,GAAGF,MAAH,CAAUD,eAAV,EAA2B,GAA3B,EAAgCC,MAAhC,CAAuC7J,CAAC,GAAG,CAA3C,CAA3C,EAA0F,IAA1F,CAArF,EAAsL,CAAC,GAAG3B,gBAAgB,CAACD,OAArB,EAA8B2L,WAA9B,EAA2C,GAAGF,MAAH,CAAUD,eAAV,EAA2B,WAA3B,CAA3C,EAAoFK,QAApF,CAAtL,EAAqRF,WAA/S,EADU;AAErBd,UAAAA,SAAS,EAAEA,SAFU;AAGrB9C,UAAAA,QAAQ,EAAEA,QAHW;AAIrB8D,UAAAA,QAAQ,EAAEA,QAJW;AAKrBE,UAAAA,MAAM,EAAER,OAAO,CAAC3J,CAAD,CALM;AAMrB7B,UAAAA,KAAK,EAAEwF,CANc;AAOrBK,UAAAA,KAAK,EAAEhE,CAPc;AAQrBuJ,UAAAA,QAAQ,EAAES,cARW;AASrB3G,UAAAA,GAAG,EAAEA,GATgB;AAUrBC,UAAAA,GAAG,EAAEA,GAVgB;AAWrB4C,UAAAA,OAAO,EAAEA,OAXY;AAYrBiD,UAAAA,QAAQ,EAAEA,QAZW;AAarBiB,UAAAA,KAAK,EAAEd,WAAW,CAACtJ,CAAD,CAbG;AAcrBqK,UAAAA,GAAG,EAAE,SAASA,GAAT,CAAapG,CAAb,EAAgB;AACnB,mBAAO6E,MAAM,CAAC/E,UAAP,CAAkB/D,CAAlB,EAAqBiE,CAArB,CAAP;AACD,WAhBoB;AAiBrBqG,UAAAA,SAAS,EAAEd,wBAAwB,CAACxJ,CAAD,CAjBd;AAkBrBuK,UAAAA,cAAc,EAAEd,6BAA6B,CAACzJ,CAAD,CAlBxB;AAmBrBwK,UAAAA,sBAAsB,EAAEd,qCAAqC,CAAC1J,CAAD;AAnBxC,SAAD,CAAtB;AAqBD,OA/Ba,CAAd;AAgCA,UAAIyK,MAAM,GAAG3I,MAAM,CAAC4I,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,EAAoBjH,GAApB,CAAwB,UAAUkH,CAAV,EAAa3G,KAAb,EAAoB;AACvD,YAAI4G,YAAJ;;AAEA,YAAI5K,CAAC,GAAGgE,KAAK,GAAG,CAAhB;AACA,YAAI6G,cAAc,GAAG,CAAC,GAAGhM,WAAW,CAACT,OAAhB,GAA0BwM,YAAY,GAAG,EAAf,EAAmB,CAAC,GAAGvM,gBAAgB,CAACD,OAArB,EAA8BwM,YAA9B,EAA4C,GAAGf,MAAH,CAAUZ,SAAV,EAAqB,QAArB,CAA5C,EAA4E,IAA5E,CAAnB,EAAsG,CAAC,GAAG5K,gBAAgB,CAACD,OAArB,EAA8BwM,YAA9B,EAA4C,GAAGf,MAAH,CAAUZ,SAAV,EAAqB,SAArB,EAAgCY,MAAhC,CAAuC7J,CAAvC,CAA5C,EAAuF,IAAvF,CAAtG,EAAoM4K,YAA9N,EAArB;AACA,eAAOhM,MAAM,CAACR,OAAP,CAAe0M,aAAf,CAA6B/L,MAAM,CAACX,OAApC,EAA6C;AAClD8L,UAAAA,SAAS,EAAEW,cADuC;AAElD1E,UAAAA,QAAQ,EAAEA,QAFwC;AAGlDD,UAAAA,OAAO,EAAEA,OAHyC;AAIlDgD,UAAAA,QAAQ,EAAEA,QAJwC;AAKlDiB,UAAAA,MAAM,EAAER,OAAO,CAAC3J,CAAC,GAAG,CAAL,CALmC;AAMlDE,UAAAA,MAAM,EAAEyJ,OAAO,CAAC3J,CAAD,CAAP,GAAa2J,OAAO,CAAC3J,CAAC,GAAG,CAAL,CANsB;AAOlDoK,UAAAA,KAAK,EAAEf,UAAU,CAACrF,KAAD,CAPiC;AAQlD3D,UAAAA,GAAG,EAAEL;AAR6C,SAA7C,CAAP;AAUD,OAfY,CAAb;AAgBA,aAAO;AACLyK,QAAAA,MAAM,EAAEA,MADH;AAELX,QAAAA,OAAO,EAAEA;AAFJ,OAAP;AAID;AA/EA,GAhW+B,CAAlC,EAgbI,CAAC;AACHzJ,IAAAA,GAAG,EAAE,0BADF;AAEHlC,IAAAA,KAAK,EAAE,SAAS4M,wBAAT,CAAkChJ,KAAlC,EAAyCgB,KAAzC,EAAgD;AACrD,UAAI,WAAWhB,KAAX,IAAoB,SAASA,KAA7B,IAAsC,SAASA,KAAnD,EAA0D;AACxD,YAAI5D,KAAK,GAAG4D,KAAK,CAAC5D,KAAN,IAAe4E,KAAK,CAACjB,MAAjC;AACA,YAAI6D,UAAU,GAAGxH,KAAK,CAACsF,GAAN,CAAU,UAAUE,CAAV,EAAa3D,CAAb,EAAgB;AACzC,iBAAO0B,eAAe,CAAC;AACrBvD,YAAAA,KAAK,EAAEwF,CADc;AAErB9B,YAAAA,MAAM,EAAE7B,CAFa;AAGrB8B,YAAAA,MAAM,EAAEiB,KAAK,CAACjB,MAHO;AAIrBC,YAAAA,KAAK,EAAEA;AAJc,WAAD,CAAtB;AAMD,SAPgB,CAAjB;;AASA,YAAI4D,UAAU,CAACzF,MAAX,KAAsB6C,KAAK,CAACjB,MAAN,CAAa5B,MAAnC,IAA6CyF,UAAU,CAACqF,KAAX,CAAiB,UAAUrH,CAAV,EAAa3D,CAAb,EAAgB;AAChF,iBAAO2D,CAAC,KAAKZ,KAAK,CAACjB,MAAN,CAAa9B,CAAb,CAAb;AACD,SAFgD,CAAjD,EAEI;AACF,iBAAO,IAAP;AACD;;AAED,eAAOF,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKiD,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AACjDjB,UAAAA,MAAM,EAAE6D;AADyC,SAA/B,CAApB;AAGD;;AAED,aAAO,IAAP;AACD;AA1BE,GAAD,CAhbJ;AA4cA,SAAOlD,KAAP;AACD,CArgBwB,CAqgBvB7D,MAAM,CAACR,OAAP,CAAe6M,SArgBQ,CAAzB;AAsgBA;;;AAGAxI,KAAK,CAACyI,WAAN,GAAoB,OAApB;AACAzI,KAAK,CAAC0I,YAAN,GAAqB;AACnB/H,EAAAA,KAAK,EAAE,CADY;AAEnBpB,EAAAA,UAAU,EAAE,IAFO;AAGnBC,EAAAA,QAAQ,EAAE,KAHS;AAInBsH,EAAAA,QAAQ,EAAE,EAJS;AAKnBC,EAAAA,wBAAwB,EAAE,EALP;AAMnBC,EAAAA,6BAA6B,EAAE,EANZ;AAOnBC,EAAAA,qCAAqC,EAAE;AAPpB,CAArB;;AAUA,IAAI0B,QAAQ,GAAG,CAAC,GAAGpM,aAAa,CAACZ,OAAlB,EAA2BqE,KAA3B,CAAf;;AAEAvE,OAAO,CAACE,OAAR,GAAkBgN,QAAlB","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"shallowequal\"));\n\nvar _Track = _interopRequireDefault(require(\"./common/Track\"));\n\nvar _createSlider = _interopRequireDefault(require(\"./common/createSlider\"));\n\nvar utils = _interopRequireWildcard(require(\"./utils\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar _trimAlignValue = function trimAlignValue(_ref) {\n  var value = _ref.value,\n      handle = _ref.handle,\n      bounds = _ref.bounds,\n      props = _ref.props;\n  var allowCross = props.allowCross,\n      pushable = props.pushable;\n  var thershold = Number(pushable);\n  var valInRange = utils.ensureValueInRange(value, props);\n  var valNotConflict = valInRange;\n\n  if (!allowCross && handle != null && bounds !== undefined) {\n    if (handle > 0 && valInRange <= bounds[handle - 1] + thershold) {\n      valNotConflict = bounds[handle - 1] + thershold;\n    }\n\n    if (handle < bounds.length - 1 && valInRange >= bounds[handle + 1] - thershold) {\n      valNotConflict = bounds[handle + 1] - thershold;\n    }\n  }\n\n  return utils.ensureValuePrecision(valNotConflict, props);\n};\n\nvar Range = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2.default)(Range, _React$Component);\n\n  var _super = _createSuper(Range);\n\n  function Range(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Range);\n    _this = _super.call(this, props);\n\n    _this.onEnd = function (force) {\n      var handle = _this.state.handle;\n\n      _this.removeDocumentEvents();\n\n      if (handle !== null || force) {\n        _this.props.onAfterChange(_this.getValue());\n      }\n\n      _this.setState({\n        handle: null\n      });\n    };\n\n    var count = props.count,\n        min = props.min,\n        max = props.max;\n    var initialValue = Array.apply(void 0, (0, _toConsumableArray2.default)(Array(count + 1))).map(function () {\n      return min;\n    });\n    var defaultValue = 'defaultValue' in props ? props.defaultValue : initialValue;\n    var value = props.value !== undefined ? props.value : defaultValue;\n    var bounds = value.map(function (v, i) {\n      return _trimAlignValue({\n        value: v,\n        handle: i,\n        props: props\n      });\n    });\n    var recent = bounds[0] === max ? 0 : bounds.length - 1;\n    _this.state = {\n      handle: null,\n      recent: recent,\n      bounds: bounds\n    };\n    return _this;\n  }\n  /**\n   * [Legacy] Used for inherit other component.\n   * It's a bad code style which should be refactor.\n   */\n\n  /* eslint-disable @typescript-eslint/no-unused-vars, class-methods-use-this */\n\n\n  (0, _createClass2.default)(Range, [{\n    key: \"calcValueByPos\",\n    value: function calcValueByPos(value) {\n      return 0;\n    }\n  }, {\n    key: \"calcOffset\",\n    value: function calcOffset(value) {\n      return 0;\n    }\n  }, {\n    key: \"saveHandle\",\n    value: function saveHandle(index, h) {}\n  }, {\n    key: \"removeDocumentEvents\",\n    value: function removeDocumentEvents() {}\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (!('value' in this.props || 'min' in this.props || 'max' in this.props)) {\n        return;\n      }\n\n      if (this.props.min === prevProps.min && this.props.max === prevProps.max && (0, _shallowequal.default)(this.props.value, prevProps.value)) {\n        return;\n      }\n\n      var _this$props = this.props,\n          onChange = _this$props.onChange,\n          value = _this$props.value;\n      var currentValue = value || prevState.bounds;\n\n      if (currentValue.some(function (v) {\n        return utils.isValueOutOfRange(v, _this2.props);\n      })) {\n        var newValues = currentValue.map(function (v) {\n          return utils.ensureValueInRange(v, _this2.props);\n        });\n        onChange(newValues);\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(state) {\n      var props = this.props;\n      var isNotControlled = !('value' in props);\n\n      if (isNotControlled) {\n        this.setState(state);\n      } else {\n        var controlledState = {};\n        ['handle', 'recent'].forEach(function (item) {\n          if (state[item] !== undefined) {\n            controlledState[item] = state[item];\n          }\n        });\n\n        if (Object.keys(controlledState).length) {\n          this.setState(controlledState);\n        }\n      }\n\n      var data = _objectSpread(_objectSpread({}, this.state), state);\n\n      var changedValue = data.bounds;\n      props.onChange(changedValue);\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart(position) {\n      var props = this.props,\n          state = this.state;\n      var bounds = this.getValue();\n      props.onBeforeChange(bounds);\n      var value = this.calcValueByPos(position);\n      this.startValue = value;\n      this.startPosition = position;\n      var closestBound = this.getClosestBound(value);\n      this.prevMovedHandleIndex = this.getBoundNeedMoving(value, closestBound);\n      this.setState({\n        handle: this.prevMovedHandleIndex,\n        recent: this.prevMovedHandleIndex\n      });\n      var prevValue = bounds[this.prevMovedHandleIndex];\n      if (value === prevValue) return;\n      var nextBounds = (0, _toConsumableArray2.default)(state.bounds);\n      nextBounds[this.prevMovedHandleIndex] = value;\n      this.onChange({\n        bounds: nextBounds\n      });\n    }\n  }, {\n    key: \"onMove\",\n    value: function onMove(e, position) {\n      utils.pauseEvent(e);\n      var state = this.state;\n      var value = this.calcValueByPos(position);\n      var oldValue = state.bounds[state.handle];\n      if (value === oldValue) return;\n      this.moveTo(value);\n    }\n  }, {\n    key: \"onKeyboard\",\n    value: function onKeyboard(e) {\n      var _this$props2 = this.props,\n          reverse = _this$props2.reverse,\n          vertical = _this$props2.vertical;\n      var valueMutator = utils.getKeyboardValueMutator(e, vertical, reverse);\n\n      if (valueMutator) {\n        utils.pauseEvent(e);\n        var state = this.state,\n            props = this.props;\n        var bounds = state.bounds,\n            handle = state.handle;\n        var oldValue = bounds[handle === null ? state.recent : handle];\n        var mutatedValue = valueMutator(oldValue, props);\n\n        var value = _trimAlignValue({\n          value: mutatedValue,\n          handle: handle,\n          bounds: state.bounds,\n          props: props\n        });\n\n        if (value === oldValue) return;\n        var isFromKeyboardEvent = true;\n        this.moveTo(value, isFromKeyboardEvent);\n      }\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      return this.state.bounds;\n    }\n  }, {\n    key: \"getClosestBound\",\n    value: function getClosestBound(value) {\n      var bounds = this.state.bounds;\n      var closestBound = 0;\n\n      for (var i = 1; i < bounds.length - 1; i += 1) {\n        if (value >= bounds[i]) {\n          closestBound = i;\n        }\n      }\n\n      if (Math.abs(bounds[closestBound + 1] - value) < Math.abs(bounds[closestBound] - value)) {\n        closestBound += 1;\n      }\n\n      return closestBound;\n    }\n  }, {\n    key: \"getBoundNeedMoving\",\n    value: function getBoundNeedMoving(value, closestBound) {\n      var _this$state = this.state,\n          bounds = _this$state.bounds,\n          recent = _this$state.recent;\n      var boundNeedMoving = closestBound;\n      var isAtTheSamePoint = bounds[closestBound + 1] === bounds[closestBound];\n\n      if (isAtTheSamePoint && bounds[recent] === bounds[closestBound]) {\n        boundNeedMoving = recent;\n      }\n\n      if (isAtTheSamePoint && value !== bounds[closestBound + 1]) {\n        boundNeedMoving = value < bounds[closestBound + 1] ? closestBound : closestBound + 1;\n      }\n\n      return boundNeedMoving;\n    }\n  }, {\n    key: \"getLowerBound\",\n    value: function getLowerBound() {\n      return this.state.bounds[0];\n    }\n  }, {\n    key: \"getUpperBound\",\n    value: function getUpperBound() {\n      var bounds = this.state.bounds;\n      return bounds[bounds.length - 1];\n    }\n    /**\n     * Returns an array of possible slider points, taking into account both\n     * `marks` and `step`. The result is cached.\n     */\n\n  }, {\n    key: \"getPoints\",\n    value: function getPoints() {\n      var _this$props3 = this.props,\n          marks = _this$props3.marks,\n          step = _this$props3.step,\n          min = _this$props3.min,\n          max = _this$props3.max;\n      var cache = this.internalPointsCache;\n\n      if (!cache || cache.marks !== marks || cache.step !== step) {\n        var pointsObject = _objectSpread({}, marks);\n\n        if (step !== null) {\n          for (var point = min; point <= max; point += step) {\n            pointsObject[point] = point;\n          }\n        }\n\n        var points = Object.keys(pointsObject).map(parseFloat);\n        points.sort(function (a, b) {\n          return a - b;\n        });\n        this.internalPointsCache = {\n          marks: marks,\n          step: step,\n          points: points\n        };\n      }\n\n      return this.internalPointsCache.points;\n    }\n  }, {\n    key: \"moveTo\",\n    value: function moveTo(value, isFromKeyboardEvent) {\n      var _this3 = this;\n\n      var state = this.state,\n          props = this.props;\n      var nextBounds = (0, _toConsumableArray2.default)(state.bounds);\n      var handle = state.handle === null ? state.recent : state.handle;\n      nextBounds[handle] = value;\n      var nextHandle = handle;\n\n      if (props.pushable !== false) {\n        this.pushSurroundingHandles(nextBounds, nextHandle);\n      } else if (props.allowCross) {\n        nextBounds.sort(function (a, b) {\n          return a - b;\n        });\n        nextHandle = nextBounds.indexOf(value);\n      }\n\n      this.onChange({\n        recent: nextHandle,\n        handle: nextHandle,\n        bounds: nextBounds\n      });\n\n      if (isFromKeyboardEvent) {\n        // known problem: because setState is async,\n        // so trigger focus will invoke handler's onEnd and another handler's onStart too early,\n        // cause onBeforeChange and onAfterChange receive wrong value.\n        // here use setState callback to hack，but not elegant\n        this.props.onAfterChange(nextBounds);\n        this.setState({}, function () {\n          _this3.handlesRefs[nextHandle].focus();\n        });\n        this.onEnd();\n      }\n    }\n  }, {\n    key: \"pushSurroundingHandles\",\n    value: function pushSurroundingHandles(bounds, handle) {\n      var value = bounds[handle];\n      var pushable = this.props.pushable;\n      var threshold = Number(pushable);\n      var direction = 0;\n\n      if (bounds[handle + 1] - value < threshold) {\n        direction = +1; // push to right\n      }\n\n      if (value - bounds[handle - 1] < threshold) {\n        direction = -1; // push to left\n      }\n\n      if (direction === 0) {\n        return;\n      }\n\n      var nextHandle = handle + direction;\n      var diffToNext = direction * (bounds[nextHandle] - value);\n\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\n        // revert to original value if pushing is impossible\n        // eslint-disable-next-line no-param-reassign\n        bounds[handle] = bounds[nextHandle] - direction * threshold;\n      }\n    }\n  }, {\n    key: \"pushHandle\",\n    value: function pushHandle(bounds, handle, direction, amount) {\n      var originalValue = bounds[handle];\n      var currentValue = bounds[handle];\n\n      while (direction * (currentValue - originalValue) < amount) {\n        if (!this.pushHandleOnePoint(bounds, handle, direction)) {\n          // can't push handle enough to create the needed `amount` gap, so we\n          // revert its position to the original value\n          // eslint-disable-next-line no-param-reassign\n          bounds[handle] = originalValue;\n          return false;\n        }\n\n        currentValue = bounds[handle];\n      } // the handle was pushed enough to create the needed `amount` gap\n\n\n      return true;\n    }\n  }, {\n    key: \"pushHandleOnePoint\",\n    value: function pushHandleOnePoint(bounds, handle, direction) {\n      var points = this.getPoints();\n      var pointIndex = points.indexOf(bounds[handle]);\n      var nextPointIndex = pointIndex + direction;\n\n      if (nextPointIndex >= points.length || nextPointIndex < 0) {\n        // reached the minimum or maximum available point, can't push anymore\n        return false;\n      }\n\n      var nextHandle = handle + direction;\n      var nextValue = points[nextPointIndex];\n      var pushable = this.props.pushable;\n      var threshold = Number(pushable);\n      var diffToNext = direction * (bounds[nextHandle] - nextValue);\n\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\n        // couldn't push next handle, so we won't push this one either\n        return false;\n      } // push the handle\n      // eslint-disable-next-line no-param-reassign\n\n\n      bounds[handle] = nextValue;\n      return true;\n    }\n  }, {\n    key: \"trimAlignValue\",\n    value: function trimAlignValue(value) {\n      var _this$state2 = this.state,\n          handle = _this$state2.handle,\n          bounds = _this$state2.bounds;\n      return _trimAlignValue({\n        value: value,\n        handle: handle,\n        bounds: bounds,\n        props: this.props\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state3 = this.state,\n          handle = _this$state3.handle,\n          bounds = _this$state3.bounds;\n      var _this$props4 = this.props,\n          prefixCls = _this$props4.prefixCls,\n          vertical = _this$props4.vertical,\n          included = _this$props4.included,\n          disabled = _this$props4.disabled,\n          min = _this$props4.min,\n          max = _this$props4.max,\n          reverse = _this$props4.reverse,\n          handleGenerator = _this$props4.handle,\n          trackStyle = _this$props4.trackStyle,\n          handleStyle = _this$props4.handleStyle,\n          tabIndex = _this$props4.tabIndex,\n          ariaLabelGroupForHandles = _this$props4.ariaLabelGroupForHandles,\n          ariaLabelledByGroupForHandles = _this$props4.ariaLabelledByGroupForHandles,\n          ariaValueTextFormatterGroupForHandles = _this$props4.ariaValueTextFormatterGroupForHandles;\n      var offsets = bounds.map(function (v) {\n        return _this4.calcOffset(v);\n      });\n      var handleClassName = \"\".concat(prefixCls, \"-handle\");\n      var handles = bounds.map(function (v, i) {\n        var _classNames;\n\n        var mergedTabIndex = tabIndex[i] || 0;\n\n        if (disabled || tabIndex[i] === null) {\n          mergedTabIndex = null;\n        }\n\n        var dragging = handle === i;\n        return handleGenerator({\n          className: (0, _classnames.default)((_classNames = {}, (0, _defineProperty2.default)(_classNames, handleClassName, true), (0, _defineProperty2.default)(_classNames, \"\".concat(handleClassName, \"-\").concat(i + 1), true), (0, _defineProperty2.default)(_classNames, \"\".concat(handleClassName, \"-dragging\"), dragging), _classNames)),\n          prefixCls: prefixCls,\n          vertical: vertical,\n          dragging: dragging,\n          offset: offsets[i],\n          value: v,\n          index: i,\n          tabIndex: mergedTabIndex,\n          min: min,\n          max: max,\n          reverse: reverse,\n          disabled: disabled,\n          style: handleStyle[i],\n          ref: function ref(h) {\n            return _this4.saveHandle(i, h);\n          },\n          ariaLabel: ariaLabelGroupForHandles[i],\n          ariaLabelledBy: ariaLabelledByGroupForHandles[i],\n          ariaValueTextFormatter: ariaValueTextFormatterGroupForHandles[i]\n        });\n      });\n      var tracks = bounds.slice(0, -1).map(function (_, index) {\n        var _classNames2;\n\n        var i = index + 1;\n        var trackClassName = (0, _classnames.default)((_classNames2 = {}, (0, _defineProperty2.default)(_classNames2, \"\".concat(prefixCls, \"-track\"), true), (0, _defineProperty2.default)(_classNames2, \"\".concat(prefixCls, \"-track-\").concat(i), true), _classNames2));\n        return _react.default.createElement(_Track.default, {\n          className: trackClassName,\n          vertical: vertical,\n          reverse: reverse,\n          included: included,\n          offset: offsets[i - 1],\n          length: offsets[i] - offsets[i - 1],\n          style: trackStyle[index],\n          key: i\n        });\n      });\n      return {\n        tracks: tracks,\n        handles: handles\n      };\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if ('value' in props || 'min' in props || 'max' in props) {\n        var value = props.value || state.bounds;\n        var nextBounds = value.map(function (v, i) {\n          return _trimAlignValue({\n            value: v,\n            handle: i,\n            bounds: state.bounds,\n            props: props\n          });\n        });\n\n        if (nextBounds.length === state.bounds.length && nextBounds.every(function (v, i) {\n          return v === state.bounds[i];\n        })) {\n          return null;\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          bounds: nextBounds\n        });\n      }\n\n      return null;\n    }\n  }]);\n  return Range;\n}(_react.default.Component);\n/* eslint-enable */\n\n\nRange.displayName = 'Range';\nRange.defaultProps = {\n  count: 1,\n  allowCross: true,\n  pushable: false,\n  tabIndex: [],\n  ariaLabelGroupForHandles: [],\n  ariaLabelledByGroupForHandles: [],\n  ariaValueTextFormatterGroupForHandles: []\n};\n\nvar _default = (0, _createSlider.default)(Range);\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}