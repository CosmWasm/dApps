{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidBuilder = void 0; // A docker image regexp. We remove support for non-standard registries for simplicity.\n// https://docs.docker.com/engine/reference/commandline/tag/#extended-description\n//\n// An image name is made up of slash-separated name components (optionally prefixed by a registry hostname).\n// Name components may contain lowercase characters, digits and separators.\n// A separator is defined as a period, one or two underscores, or one or more dashes. A name component may not start or end with a separator.\n//\n// A tag name must be valid ASCII and may contain lowercase and uppercase letters, digits, underscores, periods and dashes.\n// A tag name may not start with a period or a dash and may contain a maximum of 128 characters.\n\nconst dockerImagePattern = new RegExp(\"^[a-z0-9][a-z0-9._-]*[a-z0-9](/[a-z0-9][a-z0-9._-]*[a-z0-9])+:[a-zA-Z0-9_][a-zA-Z0-9_.-]{0,127}$\");\n/** Max length in bytes/characters (regexp enforces all ASCII, even if that is not required by the standard) */\n\nconst builderMaxLength = 128;\n\nfunction isValidBuilder(builder) {\n  if (builder.length > builderMaxLength) return false;\n  return !!builder.match(dockerImagePattern);\n}\n\nexports.isValidBuilder = isValidBuilder;","map":{"version":3,"sources":["../src/builder.ts"],"names":[],"mappings":";;;;;iCAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAM,kBAAkB,GAAG,IAAI,MAAJ,CACzB,kGADyB,CAA3B;AAIA;;AACA,MAAM,gBAAgB,GAAG,GAAzB;;AAEA,SAAgB,cAAhB,CAA+B,OAA/B,EAA8C;AAC5C,MAAI,OAAO,CAAC,MAAR,GAAiB,gBAArB,EAAuC,OAAO,KAAP;AACvC,SAAO,CAAC,CAAC,OAAO,CAAC,KAAR,CAAc,kBAAd,CAAT;AACD;;AAHD,OAAA,CAAA,cAAA,GAAA,cAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isValidBuilder = void 0;\n// A docker image regexp. We remove support for non-standard registries for simplicity.\n// https://docs.docker.com/engine/reference/commandline/tag/#extended-description\n//\n// An image name is made up of slash-separated name components (optionally prefixed by a registry hostname).\n// Name components may contain lowercase characters, digits and separators.\n// A separator is defined as a period, one or two underscores, or one or more dashes. A name component may not start or end with a separator.\n//\n// A tag name must be valid ASCII and may contain lowercase and uppercase letters, digits, underscores, periods and dashes.\n// A tag name may not start with a period or a dash and may contain a maximum of 128 characters.\nconst dockerImagePattern = new RegExp(\"^[a-z0-9][a-z0-9._-]*[a-z0-9](/[a-z0-9][a-z0-9._-]*[a-z0-9])+:[a-zA-Z0-9_][a-zA-Z0-9_.-]{0,127}$\");\n/** Max length in bytes/characters (regexp enforces all ASCII, even if that is not required by the standard) */\nconst builderMaxLength = 128;\nfunction isValidBuilder(builder) {\n    if (builder.length > builderMaxLength)\n        return false;\n    return !!builder.match(dockerImagePattern);\n}\nexports.isValidBuilder = isValidBuilder;\n//# sourceMappingURL=builder.js.map"]},"metadata":{},"sourceType":"script"}