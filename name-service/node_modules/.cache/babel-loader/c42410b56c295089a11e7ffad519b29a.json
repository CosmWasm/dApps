{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* eslint react/prop-types: 0 */\n\n\nimport React from 'react';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport { toArrayChildren, mergeChildren, findShownChildInChildrenByKey, findChildInChildrenByKey, isSameChildren } from './ChildrenUtils';\nimport AnimateChild from './AnimateChild';\nimport animUtil from './util/animate';\nvar defaultKey = 'rc_animate_' + Date.now();\n\nfunction getChildrenFromProps(props) {\n  var children = props.children;\n\n  if (React.isValidElement(children)) {\n    if (!children.key) {\n      return React.cloneElement(children, {\n        key: defaultKey\n      });\n    }\n  }\n\n  return children;\n}\n\nfunction noop() {}\n\nvar Animate = function (_React$Component) {\n  _inherits(Animate, _React$Component);\n\n  function Animate(props) {\n    _classCallCheck(this, Animate);\n\n    var _this = _possibleConstructorReturn(this, (Animate.__proto__ || Object.getPrototypeOf(Animate)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.currentlyAnimatingKeys = {};\n    _this.keysToEnter = [];\n    _this.keysToLeave = [];\n    _this.state = {\n      children: toArrayChildren(getChildrenFromProps(props))\n    };\n    _this.childrenRefs = {};\n    return _this;\n  } // eslint-disable-line\n\n\n  _createClass(Animate, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var showProp = this.props.showProp;\n      var children = this.state.children;\n\n      if (showProp) {\n        children = children.filter(function (child) {\n          return !!child.props[showProp];\n        });\n      }\n\n      children.forEach(function (child) {\n        if (child) {\n          _this2.performAppear(child.key);\n        }\n      });\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      this.nextProps = nextProps;\n      var nextChildren = toArrayChildren(getChildrenFromProps(nextProps));\n      var props = this.props; // exclusive needs immediate response\n\n      if (props.exclusive) {\n        Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\n          _this3.stop(key);\n        });\n      }\n\n      var showProp = props.showProp;\n      var currentlyAnimatingKeys = this.currentlyAnimatingKeys; // last props children if exclusive\n\n      var currentChildren = props.exclusive ? toArrayChildren(getChildrenFromProps(props)) : this.state.children; // in case destroy in showProp mode\n\n      var newChildren = [];\n\n      if (showProp) {\n        currentChildren.forEach(function (currentChild) {\n          var nextChild = currentChild && findChildInChildrenByKey(nextChildren, currentChild.key);\n          var newChild = void 0;\n\n          if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\n            newChild = React.cloneElement(nextChild || currentChild, _defineProperty({}, showProp, true));\n          } else {\n            newChild = nextChild;\n          }\n\n          if (newChild) {\n            newChildren.push(newChild);\n          }\n        });\n        nextChildren.forEach(function (nextChild) {\n          if (!nextChild || !findChildInChildrenByKey(currentChildren, nextChild.key)) {\n            newChildren.push(nextChild);\n          }\n        });\n      } else {\n        newChildren = mergeChildren(currentChildren, nextChildren);\n      } // need render to avoid update\n\n\n      this.setState({\n        children: newChildren\n      });\n      nextChildren.forEach(function (child) {\n        var key = child && child.key;\n\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n\n        var hasPrev = child && findChildInChildrenByKey(currentChildren, key);\n\n        if (showProp) {\n          var showInNext = child.props[showProp];\n\n          if (hasPrev) {\n            var showInNow = findShownChildInChildrenByKey(currentChildren, key, showProp);\n\n            if (!showInNow && showInNext) {\n              _this3.keysToEnter.push(key);\n            }\n          } else if (showInNext) {\n            _this3.keysToEnter.push(key);\n          }\n        } else if (!hasPrev) {\n          _this3.keysToEnter.push(key);\n        }\n      });\n      currentChildren.forEach(function (child) {\n        var key = child && child.key;\n\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n\n        var hasNext = child && findChildInChildrenByKey(nextChildren, key);\n\n        if (showProp) {\n          var showInNow = child.props[showProp];\n\n          if (hasNext) {\n            var showInNext = findShownChildInChildrenByKey(nextChildren, key, showProp);\n\n            if (!showInNext && showInNow) {\n              _this3.keysToLeave.push(key);\n            }\n          } else if (showInNow) {\n            _this3.keysToLeave.push(key);\n          }\n        } else if (!hasNext) {\n          _this3.keysToLeave.push(key);\n        }\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var keysToEnter = this.keysToEnter;\n      this.keysToEnter = [];\n      keysToEnter.forEach(this.performEnter);\n      var keysToLeave = this.keysToLeave;\n      this.keysToLeave = [];\n      keysToLeave.forEach(this.performLeave);\n    }\n  }, {\n    key: 'isValidChildByKey',\n    value: function isValidChildByKey(currentChildren, key) {\n      var showProp = this.props.showProp;\n\n      if (showProp) {\n        return findShownChildInChildrenByKey(currentChildren, key, showProp);\n      }\n\n      return findChildInChildrenByKey(currentChildren, key);\n    }\n  }, {\n    key: 'stop',\n    value: function stop(key) {\n      delete this.currentlyAnimatingKeys[key];\n      var component = this.childrenRefs[key];\n\n      if (component) {\n        component.stop();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var props = this.props;\n      this.nextProps = props;\n      var stateChildren = this.state.children;\n      var children = null;\n\n      if (stateChildren) {\n        children = stateChildren.map(function (child) {\n          if (child === null || child === undefined) {\n            return child;\n          }\n\n          if (!child.key) {\n            throw new Error('must set key for <rc-animate> children');\n          }\n\n          return React.createElement(AnimateChild, {\n            key: child.key,\n            ref: function ref(node) {\n              _this4.childrenRefs[child.key] = node;\n            },\n            animation: props.animation,\n            transitionName: props.transitionName,\n            transitionEnter: props.transitionEnter,\n            transitionAppear: props.transitionAppear,\n            transitionLeave: props.transitionLeave\n          }, child);\n        });\n      }\n\n      var Component = props.component;\n\n      if (Component) {\n        var passedProps = props;\n\n        if (typeof Component === 'string') {\n          passedProps = _extends({\n            className: props.className,\n            style: props.style\n          }, props.componentProps);\n        }\n\n        return React.createElement(Component, passedProps, children);\n      }\n\n      return children[0] || null;\n    }\n  }]);\n\n  return Animate;\n}(React.Component);\n\nAnimate.isAnimate = true;\nAnimate.defaultProps = {\n  animation: {},\n  component: 'span',\n  componentProps: {},\n  transitionEnter: true,\n  transitionLeave: true,\n  transitionAppear: false,\n  onEnd: noop,\n  onEnter: noop,\n  onLeave: noop,\n  onAppear: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.performEnter = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n\n      _this5.childrenRefs[key].componentWillEnter(_this5.handleDoneAdding.bind(_this5, key, 'enter'));\n    }\n  };\n\n  this.performAppear = function (key) {\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n\n      _this5.childrenRefs[key].componentWillAppear(_this5.handleDoneAdding.bind(_this5, key, 'appear'));\n    }\n  };\n\n  this.handleDoneAdding = function (key, type) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key]; // if update on exclusive mode, skip check\n\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n\n    if (!_this5.isValidChildByKey(currentChildren, key)) {\n      // exclusive will not need this\n      _this5.performLeave(key);\n    } else if (type === 'appear') {\n      if (animUtil.allowAppearCallback(props)) {\n        props.onAppear(key);\n        props.onEnd(key, true);\n      }\n    } else if (animUtil.allowEnterCallback(props)) {\n      props.onEnter(key);\n      props.onEnd(key, true);\n    }\n  };\n\n  this.performLeave = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n\n      _this5.childrenRefs[key].componentWillLeave(_this5.handleDoneLeaving.bind(_this5, key));\n    }\n  };\n\n  this.handleDoneLeaving = function (key) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key]; // if update on exclusive mode, skip check\n\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n\n    var currentChildren = toArrayChildren(getChildrenFromProps(props)); // in case state change is too fast\n\n    if (_this5.isValidChildByKey(currentChildren, key)) {\n      _this5.performEnter(key);\n    } else {\n      var end = function end() {\n        if (animUtil.allowLeaveCallback(props)) {\n          props.onLeave(key);\n          props.onEnd(key, false);\n        }\n      };\n\n      if (!isSameChildren(_this5.state.children, currentChildren, props.showProp)) {\n        _this5.setState({\n          children: currentChildren\n        }, end);\n      } else {\n        end();\n      }\n    }\n  };\n};\n\nexport default unsafeLifecyclesPolyfill(Animate);","map":{"version":3,"sources":["/home/abefernan/cosmwasm/dApps/node_modules/rc-animate/es/Animate.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_defineProperty","obj","value","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","React","unsafeLifecyclesPolyfill","toArrayChildren","mergeChildren","findShownChildInChildrenByKey","findChildInChildrenByKey","isSameChildren","AnimateChild","animUtil","defaultKey","Date","now","getChildrenFromProps","children","isValidElement","cloneElement","noop","Animate","_React$Component","_this","getPrototypeOf","_initialiseProps","currentlyAnimatingKeys","keysToEnter","keysToLeave","state","childrenRefs","componentDidMount","_this2","showProp","filter","child","forEach","performAppear","componentWillReceiveProps","nextProps","_this3","nextChildren","exclusive","keys","stop","currentChildren","newChildren","currentChild","nextChild","newChild","push","setState","hasPrev","showInNext","showInNow","hasNext","componentDidUpdate","performEnter","performLeave","isValidChildByKey","component","render","_this4","stateChildren","map","undefined","Error","createElement","ref","node","animation","transitionName","transitionEnter","transitionAppear","transitionLeave","Component","passedProps","className","style","componentProps","isAnimate","defaultProps","onEnd","onEnter","onLeave","onAppear","_this5","componentWillEnter","handleDoneAdding","bind","componentWillAppear","type","allowAppearCallback","allowEnterCallback","componentWillLeave","handleDoneLeaving","end","allowLeaveCallback"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport { toArrayChildren, mergeChildren, findShownChildInChildrenByKey, findChildInChildrenByKey, isSameChildren } from './ChildrenUtils';\nimport AnimateChild from './AnimateChild';\nimport animUtil from './util/animate';\n\nvar defaultKey = 'rc_animate_' + Date.now();\n\nfunction getChildrenFromProps(props) {\n  var children = props.children;\n  if (React.isValidElement(children)) {\n    if (!children.key) {\n      return React.cloneElement(children, {\n        key: defaultKey\n      });\n    }\n  }\n  return children;\n}\n\nfunction noop() {}\n\nvar Animate = function (_React$Component) {\n  _inherits(Animate, _React$Component);\n\n  function Animate(props) {\n    _classCallCheck(this, Animate);\n\n    var _this = _possibleConstructorReturn(this, (Animate.__proto__ || Object.getPrototypeOf(Animate)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.currentlyAnimatingKeys = {};\n    _this.keysToEnter = [];\n    _this.keysToLeave = [];\n\n    _this.state = {\n      children: toArrayChildren(getChildrenFromProps(props))\n    };\n\n    _this.childrenRefs = {};\n    return _this;\n  } // eslint-disable-line\n\n  _createClass(Animate, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var showProp = this.props.showProp;\n      var children = this.state.children;\n      if (showProp) {\n        children = children.filter(function (child) {\n          return !!child.props[showProp];\n        });\n      }\n      children.forEach(function (child) {\n        if (child) {\n          _this2.performAppear(child.key);\n        }\n      });\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      this.nextProps = nextProps;\n      var nextChildren = toArrayChildren(getChildrenFromProps(nextProps));\n      var props = this.props;\n      // exclusive needs immediate response\n      if (props.exclusive) {\n        Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\n          _this3.stop(key);\n        });\n      }\n      var showProp = props.showProp;\n      var currentlyAnimatingKeys = this.currentlyAnimatingKeys;\n      // last props children if exclusive\n      var currentChildren = props.exclusive ? toArrayChildren(getChildrenFromProps(props)) : this.state.children;\n      // in case destroy in showProp mode\n      var newChildren = [];\n      if (showProp) {\n        currentChildren.forEach(function (currentChild) {\n          var nextChild = currentChild && findChildInChildrenByKey(nextChildren, currentChild.key);\n          var newChild = void 0;\n          if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\n            newChild = React.cloneElement(nextChild || currentChild, _defineProperty({}, showProp, true));\n          } else {\n            newChild = nextChild;\n          }\n          if (newChild) {\n            newChildren.push(newChild);\n          }\n        });\n        nextChildren.forEach(function (nextChild) {\n          if (!nextChild || !findChildInChildrenByKey(currentChildren, nextChild.key)) {\n            newChildren.push(nextChild);\n          }\n        });\n      } else {\n        newChildren = mergeChildren(currentChildren, nextChildren);\n      }\n\n      // need render to avoid update\n      this.setState({\n        children: newChildren\n      });\n\n      nextChildren.forEach(function (child) {\n        var key = child && child.key;\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n        var hasPrev = child && findChildInChildrenByKey(currentChildren, key);\n        if (showProp) {\n          var showInNext = child.props[showProp];\n          if (hasPrev) {\n            var showInNow = findShownChildInChildrenByKey(currentChildren, key, showProp);\n            if (!showInNow && showInNext) {\n              _this3.keysToEnter.push(key);\n            }\n          } else if (showInNext) {\n            _this3.keysToEnter.push(key);\n          }\n        } else if (!hasPrev) {\n          _this3.keysToEnter.push(key);\n        }\n      });\n\n      currentChildren.forEach(function (child) {\n        var key = child && child.key;\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n        var hasNext = child && findChildInChildrenByKey(nextChildren, key);\n        if (showProp) {\n          var showInNow = child.props[showProp];\n          if (hasNext) {\n            var showInNext = findShownChildInChildrenByKey(nextChildren, key, showProp);\n            if (!showInNext && showInNow) {\n              _this3.keysToLeave.push(key);\n            }\n          } else if (showInNow) {\n            _this3.keysToLeave.push(key);\n          }\n        } else if (!hasNext) {\n          _this3.keysToLeave.push(key);\n        }\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var keysToEnter = this.keysToEnter;\n      this.keysToEnter = [];\n      keysToEnter.forEach(this.performEnter);\n      var keysToLeave = this.keysToLeave;\n      this.keysToLeave = [];\n      keysToLeave.forEach(this.performLeave);\n    }\n  }, {\n    key: 'isValidChildByKey',\n    value: function isValidChildByKey(currentChildren, key) {\n      var showProp = this.props.showProp;\n      if (showProp) {\n        return findShownChildInChildrenByKey(currentChildren, key, showProp);\n      }\n      return findChildInChildrenByKey(currentChildren, key);\n    }\n  }, {\n    key: 'stop',\n    value: function stop(key) {\n      delete this.currentlyAnimatingKeys[key];\n      var component = this.childrenRefs[key];\n      if (component) {\n        component.stop();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var props = this.props;\n      this.nextProps = props;\n      var stateChildren = this.state.children;\n      var children = null;\n      if (stateChildren) {\n        children = stateChildren.map(function (child) {\n          if (child === null || child === undefined) {\n            return child;\n          }\n          if (!child.key) {\n            throw new Error('must set key for <rc-animate> children');\n          }\n          return React.createElement(\n            AnimateChild,\n            {\n              key: child.key,\n              ref: function ref(node) {\n                _this4.childrenRefs[child.key] = node;\n              },\n              animation: props.animation,\n              transitionName: props.transitionName,\n              transitionEnter: props.transitionEnter,\n              transitionAppear: props.transitionAppear,\n              transitionLeave: props.transitionLeave\n            },\n            child\n          );\n        });\n      }\n      var Component = props.component;\n      if (Component) {\n        var passedProps = props;\n        if (typeof Component === 'string') {\n          passedProps = _extends({\n            className: props.className,\n            style: props.style\n          }, props.componentProps);\n        }\n        return React.createElement(\n          Component,\n          passedProps,\n          children\n        );\n      }\n      return children[0] || null;\n    }\n  }]);\n\n  return Animate;\n}(React.Component);\n\nAnimate.isAnimate = true;\nAnimate.defaultProps = {\n  animation: {},\n  component: 'span',\n  componentProps: {},\n  transitionEnter: true,\n  transitionLeave: true,\n  transitionAppear: false,\n  onEnd: noop,\n  onEnter: noop,\n  onLeave: noop,\n  onAppear: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.performEnter = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillEnter(_this5.handleDoneAdding.bind(_this5, key, 'enter'));\n    }\n  };\n\n  this.performAppear = function (key) {\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillAppear(_this5.handleDoneAdding.bind(_this5, key, 'appear'));\n    }\n  };\n\n  this.handleDoneAdding = function (key, type) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n    if (!_this5.isValidChildByKey(currentChildren, key)) {\n      // exclusive will not need this\n      _this5.performLeave(key);\n    } else if (type === 'appear') {\n      if (animUtil.allowAppearCallback(props)) {\n        props.onAppear(key);\n        props.onEnd(key, true);\n      }\n    } else if (animUtil.allowEnterCallback(props)) {\n      props.onEnter(key);\n      props.onEnd(key, true);\n    }\n  };\n\n  this.performLeave = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillLeave(_this5.handleDoneLeaving.bind(_this5, key));\n    }\n  };\n\n  this.handleDoneLeaving = function (key) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n    // in case state change is too fast\n    if (_this5.isValidChildByKey(currentChildren, key)) {\n      _this5.performEnter(key);\n    } else {\n      var end = function end() {\n        if (animUtil.allowLeaveCallback(props)) {\n          props.onLeave(key);\n          props.onEnd(key, false);\n        }\n      };\n      if (!isSameChildren(_this5.state.children, currentChildren, props.showProp)) {\n        _this5.setState({\n          children: currentChildren\n        }, end);\n      } else {\n        end();\n      }\n    }\n  };\n};\n\nexport default unsafeLifecyclesPolyfill(Animate);"]},"metadata":{},"sourceType":"module"}