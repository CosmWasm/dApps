{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertChildrenToColumns = convertChildrenToColumns;\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _toArray = _interopRequireDefault(require(\"rc-util/lib/Children/toArray\"));\n\nvar _legacyUtil = require(\"../utils/legacyUtil\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction convertChildrenToColumns(children) {\n  return (0, _toArray.default)(children).filter(function (node) {\n    return React.isValidElement(node);\n  }).map(function (_ref) {\n    var key = _ref.key,\n        props = _ref.props;\n    var nodeChildren = props.children,\n        restProps = (0, _objectWithoutProperties2.default)(props, [\"children\"]);\n\n    var column = _objectSpread({\n      key: key\n    }, restProps);\n\n    if (nodeChildren) {\n      column.children = convertChildrenToColumns(nodeChildren);\n    }\n\n    return column;\n  });\n}\n\nfunction flatColumns(columns) {\n  return columns.reduce(function (list, column) {\n    var fixed = column.fixed; // Convert `fixed='true'` to `fixed='left'` instead\n\n    var parsedFixed = fixed === true ? 'left' : fixed;\n    var subColumns = column.children;\n\n    if (subColumns && subColumns.length > 0) {\n      return [].concat((0, _toConsumableArray2.default)(list), (0, _toConsumableArray2.default)(flatColumns(subColumns).map(function (subColum) {\n        return _objectSpread({\n          fixed: parsedFixed\n        }, subColum);\n      })));\n    }\n\n    return [].concat((0, _toConsumableArray2.default)(list), [_objectSpread(_objectSpread({}, column), {}, {\n      fixed: parsedFixed\n    })]);\n  }, []);\n}\n\nfunction warningFixed(flattenColumns) {\n  var allFixLeft = true;\n\n  for (var i = 0; i < flattenColumns.length; i += 1) {\n    var col = flattenColumns[i];\n\n    if (allFixLeft && col.fixed !== 'left') {\n      allFixLeft = false;\n    } else if (!allFixLeft && col.fixed === 'left') {\n      (0, _warning.default)(false, \"Index \".concat(i - 1, \" of `columns` missing `fixed='left'` prop.\"));\n      break;\n    }\n  }\n\n  var allFixRight = true;\n\n  for (var _i = flattenColumns.length - 1; _i >= 0; _i -= 1) {\n    var _col = flattenColumns[_i];\n\n    if (allFixRight && _col.fixed !== 'right') {\n      allFixRight = false;\n    } else if (!allFixRight && _col.fixed === 'right') {\n      (0, _warning.default)(false, \"Index \".concat(_i + 1, \" of `columns` missing `fixed='right'` prop.\"));\n      break;\n    }\n  }\n}\n\nfunction revertForRtl(columns) {\n  return columns.map(function (column) {\n    var fixed = column.fixed,\n        restProps = (0, _objectWithoutProperties2.default)(column, [\"fixed\"]); // Convert `fixed='left'` to `fixed='right'` instead\n\n    var parsedFixed = fixed;\n\n    if (fixed === 'left') {\n      parsedFixed = 'right';\n    } else if (fixed === 'right') {\n      parsedFixed = 'left';\n    }\n\n    return _objectSpread({\n      fixed: parsedFixed\n    }, restProps);\n  });\n}\n/**\n * Parse `columns` & `children` into `columns`.\n */\n\n\nfunction useColumns(_ref2, transformColumns) {\n  var prefixCls = _ref2.prefixCls,\n      columns = _ref2.columns,\n      children = _ref2.children,\n      expandable = _ref2.expandable,\n      expandedKeys = _ref2.expandedKeys,\n      getRowKey = _ref2.getRowKey,\n      onTriggerExpand = _ref2.onTriggerExpand,\n      expandIcon = _ref2.expandIcon,\n      rowExpandable = _ref2.rowExpandable,\n      expandIconColumnIndex = _ref2.expandIconColumnIndex,\n      direction = _ref2.direction,\n      expandRowByClick = _ref2.expandRowByClick;\n  var baseColumns = React.useMemo(function () {\n    return columns || convertChildrenToColumns(children);\n  }, [columns, children]); // Add expand column\n\n  var withExpandColumns = React.useMemo(function () {\n    if (expandable) {\n      var _expandColumn;\n\n      var expandColIndex = expandIconColumnIndex || 0;\n      var prevColumn = baseColumns[expandColIndex];\n      var expandColumn = (_expandColumn = {}, (0, _defineProperty2.default)(_expandColumn, _legacyUtil.INTERNAL_COL_DEFINE, {\n        className: \"\".concat(prefixCls, \"-expand-icon-col\")\n      }), (0, _defineProperty2.default)(_expandColumn, \"title\", ''), (0, _defineProperty2.default)(_expandColumn, \"fixed\", prevColumn ? prevColumn.fixed : null), (0, _defineProperty2.default)(_expandColumn, \"className\", \"\".concat(prefixCls, \"-row-expand-icon-cell\")), (0, _defineProperty2.default)(_expandColumn, \"render\", function render(_, record, index) {\n        var rowKey = getRowKey(record, index);\n        var expanded = expandedKeys.has(rowKey);\n        var recordExpandable = rowExpandable ? rowExpandable(record) : true;\n        var icon = expandIcon({\n          prefixCls: prefixCls,\n          expanded: expanded,\n          expandable: recordExpandable,\n          record: record,\n          onExpand: onTriggerExpand\n        });\n\n        if (expandRowByClick) {\n          return React.createElement(\"span\", {\n            onClick: function onClick(e) {\n              return e.stopPropagation();\n            }\n          }, icon);\n        }\n\n        return icon;\n      }), _expandColumn); // Insert expand column in the target position\n\n      var cloneColumns = baseColumns.slice();\n\n      if (expandColIndex >= 0) {\n        cloneColumns.splice(expandColIndex, 0, expandColumn);\n      }\n\n      return cloneColumns;\n    }\n\n    return baseColumns;\n  }, [expandable, baseColumns, getRowKey, expandedKeys, expandIcon, direction]);\n  var mergedColumns = React.useMemo(function () {\n    var finalColumns = withExpandColumns;\n\n    if (transformColumns) {\n      finalColumns = transformColumns(finalColumns);\n    } // Always provides at least one column for table display\n\n\n    if (!finalColumns.length) {\n      finalColumns = [{\n        render: function render() {\n          return null;\n        }\n      }];\n    }\n\n    return finalColumns;\n  }, [transformColumns, withExpandColumns, direction]);\n  var flattenColumns = React.useMemo(function () {\n    if (direction === 'rtl') {\n      return revertForRtl(flatColumns(mergedColumns));\n    }\n\n    return flatColumns(mergedColumns);\n  }, [mergedColumns, direction]); // Only check out of production since it's waste for each render\n\n  if (process.env.NODE_ENV !== 'production') {\n    warningFixed(flattenColumns);\n  }\n\n  return [mergedColumns, flattenColumns];\n}\n\nvar _default = useColumns;\nexports.default = _default;","map":{"version":3,"sources":["/home/abefernan/cosmwasm/dApps/node_modules/rc-table/lib/hooks/useColumns.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","convertChildrenToColumns","default","_toConsumableArray2","_defineProperty2","_objectWithoutProperties2","React","_warning","_toArray","_legacyUtil","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","children","node","isValidElement","map","_ref","props","nodeChildren","restProps","column","flatColumns","columns","reduce","list","fixed","parsedFixed","subColumns","concat","subColum","warningFixed","flattenColumns","allFixLeft","col","allFixRight","_i","_col","revertForRtl","useColumns","_ref2","transformColumns","prefixCls","expandable","expandedKeys","getRowKey","onTriggerExpand","expandIcon","rowExpandable","expandIconColumnIndex","direction","expandRowByClick","baseColumns","useMemo","withExpandColumns","_expandColumn","expandColIndex","prevColumn","expandColumn","INTERNAL_COL_DEFINE","className","render","_","record","index","rowKey","expanded","has","recordExpandable","icon","onExpand","createElement","onClick","e","stopPropagation","cloneColumns","slice","splice","mergedColumns","finalColumns","process","env","NODE_ENV","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertChildrenToColumns = convertChildrenToColumns;\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _toArray = _interopRequireDefault(require(\"rc-util/lib/Children/toArray\"));\n\nvar _legacyUtil = require(\"../utils/legacyUtil\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction convertChildrenToColumns(children) {\n  return (0, _toArray.default)(children).filter(function (node) {\n    return React.isValidElement(node);\n  }).map(function (_ref) {\n    var key = _ref.key,\n        props = _ref.props;\n    var nodeChildren = props.children,\n        restProps = (0, _objectWithoutProperties2.default)(props, [\"children\"]);\n\n    var column = _objectSpread({\n      key: key\n    }, restProps);\n\n    if (nodeChildren) {\n      column.children = convertChildrenToColumns(nodeChildren);\n    }\n\n    return column;\n  });\n}\n\nfunction flatColumns(columns) {\n  return columns.reduce(function (list, column) {\n    var fixed = column.fixed; // Convert `fixed='true'` to `fixed='left'` instead\n\n    var parsedFixed = fixed === true ? 'left' : fixed;\n    var subColumns = column.children;\n\n    if (subColumns && subColumns.length > 0) {\n      return [].concat((0, _toConsumableArray2.default)(list), (0, _toConsumableArray2.default)(flatColumns(subColumns).map(function (subColum) {\n        return _objectSpread({\n          fixed: parsedFixed\n        }, subColum);\n      })));\n    }\n\n    return [].concat((0, _toConsumableArray2.default)(list), [_objectSpread(_objectSpread({}, column), {}, {\n      fixed: parsedFixed\n    })]);\n  }, []);\n}\n\nfunction warningFixed(flattenColumns) {\n  var allFixLeft = true;\n\n  for (var i = 0; i < flattenColumns.length; i += 1) {\n    var col = flattenColumns[i];\n\n    if (allFixLeft && col.fixed !== 'left') {\n      allFixLeft = false;\n    } else if (!allFixLeft && col.fixed === 'left') {\n      (0, _warning.default)(false, \"Index \".concat(i - 1, \" of `columns` missing `fixed='left'` prop.\"));\n      break;\n    }\n  }\n\n  var allFixRight = true;\n\n  for (var _i = flattenColumns.length - 1; _i >= 0; _i -= 1) {\n    var _col = flattenColumns[_i];\n\n    if (allFixRight && _col.fixed !== 'right') {\n      allFixRight = false;\n    } else if (!allFixRight && _col.fixed === 'right') {\n      (0, _warning.default)(false, \"Index \".concat(_i + 1, \" of `columns` missing `fixed='right'` prop.\"));\n      break;\n    }\n  }\n}\n\nfunction revertForRtl(columns) {\n  return columns.map(function (column) {\n    var fixed = column.fixed,\n        restProps = (0, _objectWithoutProperties2.default)(column, [\"fixed\"]); // Convert `fixed='left'` to `fixed='right'` instead\n\n    var parsedFixed = fixed;\n\n    if (fixed === 'left') {\n      parsedFixed = 'right';\n    } else if (fixed === 'right') {\n      parsedFixed = 'left';\n    }\n\n    return _objectSpread({\n      fixed: parsedFixed\n    }, restProps);\n  });\n}\n/**\n * Parse `columns` & `children` into `columns`.\n */\n\n\nfunction useColumns(_ref2, transformColumns) {\n  var prefixCls = _ref2.prefixCls,\n      columns = _ref2.columns,\n      children = _ref2.children,\n      expandable = _ref2.expandable,\n      expandedKeys = _ref2.expandedKeys,\n      getRowKey = _ref2.getRowKey,\n      onTriggerExpand = _ref2.onTriggerExpand,\n      expandIcon = _ref2.expandIcon,\n      rowExpandable = _ref2.rowExpandable,\n      expandIconColumnIndex = _ref2.expandIconColumnIndex,\n      direction = _ref2.direction,\n      expandRowByClick = _ref2.expandRowByClick;\n  var baseColumns = React.useMemo(function () {\n    return columns || convertChildrenToColumns(children);\n  }, [columns, children]); // Add expand column\n\n  var withExpandColumns = React.useMemo(function () {\n    if (expandable) {\n      var _expandColumn;\n\n      var expandColIndex = expandIconColumnIndex || 0;\n      var prevColumn = baseColumns[expandColIndex];\n      var expandColumn = (_expandColumn = {}, (0, _defineProperty2.default)(_expandColumn, _legacyUtil.INTERNAL_COL_DEFINE, {\n        className: \"\".concat(prefixCls, \"-expand-icon-col\")\n      }), (0, _defineProperty2.default)(_expandColumn, \"title\", ''), (0, _defineProperty2.default)(_expandColumn, \"fixed\", prevColumn ? prevColumn.fixed : null), (0, _defineProperty2.default)(_expandColumn, \"className\", \"\".concat(prefixCls, \"-row-expand-icon-cell\")), (0, _defineProperty2.default)(_expandColumn, \"render\", function render(_, record, index) {\n        var rowKey = getRowKey(record, index);\n        var expanded = expandedKeys.has(rowKey);\n        var recordExpandable = rowExpandable ? rowExpandable(record) : true;\n        var icon = expandIcon({\n          prefixCls: prefixCls,\n          expanded: expanded,\n          expandable: recordExpandable,\n          record: record,\n          onExpand: onTriggerExpand\n        });\n\n        if (expandRowByClick) {\n          return React.createElement(\"span\", {\n            onClick: function onClick(e) {\n              return e.stopPropagation();\n            }\n          }, icon);\n        }\n\n        return icon;\n      }), _expandColumn); // Insert expand column in the target position\n\n      var cloneColumns = baseColumns.slice();\n\n      if (expandColIndex >= 0) {\n        cloneColumns.splice(expandColIndex, 0, expandColumn);\n      }\n\n      return cloneColumns;\n    }\n\n    return baseColumns;\n  }, [expandable, baseColumns, getRowKey, expandedKeys, expandIcon, direction]);\n  var mergedColumns = React.useMemo(function () {\n    var finalColumns = withExpandColumns;\n\n    if (transformColumns) {\n      finalColumns = transformColumns(finalColumns);\n    } // Always provides at least one column for table display\n\n\n    if (!finalColumns.length) {\n      finalColumns = [{\n        render: function render() {\n          return null;\n        }\n      }];\n    }\n\n    return finalColumns;\n  }, [transformColumns, withExpandColumns, direction]);\n  var flattenColumns = React.useMemo(function () {\n    if (direction === 'rtl') {\n      return revertForRtl(flatColumns(mergedColumns));\n    }\n\n    return flatColumns(mergedColumns);\n  }, [mergedColumns, direction]); // Only check out of production since it's waste for each render\n\n  if (process.env.NODE_ENV !== 'production') {\n    warningFixed(flattenColumns);\n  }\n\n  return [mergedColumns, flattenColumns];\n}\n\nvar _default = useColumns;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}