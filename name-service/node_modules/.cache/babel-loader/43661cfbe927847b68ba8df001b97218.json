{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Animate from 'rc-animate';\nimport createChainedFunction from \"rc-util/es/createChainedFunction\";\nimport classnames from 'classnames';\nimport Notice from './Notice';\nimport _useNotification from './useNotification';\nvar seed = 0;\nvar now = Date.now();\n\nfunction getUuid() {\n  var id = seed;\n  seed += 1;\n  return \"rcNotification_\".concat(now, \"_\").concat(id);\n}\n\nvar Notification = /*#__PURE__*/function (_Component) {\n  _inherits(Notification, _Component);\n\n  var _super = _createSuper(Notification);\n\n  function Notification() {\n    var _this;\n\n    _classCallCheck(this, Notification);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      notices: []\n    };\n    _this.hookRefs = new Map();\n\n    _this.add = function (notice, holderCallback) {\n      // eslint-disable-next-line no-param-reassign\n      notice.key = notice.key || getUuid();\n      var key = notice.key;\n      var maxCount = _this.props.maxCount;\n\n      _this.setState(function (previousState) {\n        var notices = previousState.notices;\n        var noticeIndex = notices.map(function (v) {\n          return v.notice.key;\n        }).indexOf(key);\n        var updatedNotices = notices.concat();\n\n        if (noticeIndex !== -1) {\n          updatedNotices.splice(noticeIndex, 1, {\n            notice: notice,\n            holderCallback: holderCallback\n          });\n        } else {\n          if (maxCount && notices.length >= maxCount) {\n            // XXX, use key of first item to update new added (let React to move exsiting\n            // instead of remove and mount). Same key was used before for both a) external\n            // manual control and b) internal react 'key' prop , which is not that good.\n            // eslint-disable-next-line no-param-reassign\n            notice.updateKey = updatedNotices[0].notice.updateKey || updatedNotices[0].notice.key;\n            updatedNotices.shift();\n          }\n\n          updatedNotices.push({\n            notice: notice,\n            holderCallback: holderCallback\n          });\n        }\n\n        return {\n          notices: updatedNotices\n        };\n      });\n    };\n\n    _this.remove = function (key) {\n      _this.setState(function (previousState) {\n        return {\n          notices: previousState.notices.filter(function (_ref) {\n            var notice = _ref.notice;\n            return notice.key !== key;\n          })\n        };\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Notification, [{\n    key: \"getTransitionName\",\n    value: function getTransitionName() {\n      var _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          animation = _this$props.animation;\n      var transitionName = this.props.transitionName;\n\n      if (!transitionName && animation) {\n        transitionName = \"\".concat(prefixCls, \"-\").concat(animation);\n      }\n\n      return transitionName;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var notices = this.state.notices;\n      var _this$props2 = this.props,\n          prefixCls = _this$props2.prefixCls,\n          className = _this$props2.className,\n          closeIcon = _this$props2.closeIcon,\n          style = _this$props2.style;\n      var noticeNodes = notices.map(function (_ref2, index) {\n        var notice = _ref2.notice,\n            holderCallback = _ref2.holderCallback;\n        var update = Boolean(index === notices.length - 1 && notice.updateKey);\n        var key = notice.updateKey ? notice.updateKey : notice.key;\n        var onClose = createChainedFunction(_this2.remove.bind(_this2, notice.key), notice.onClose);\n\n        var noticeProps = _objectSpread(_objectSpread(_objectSpread({\n          prefixCls: prefixCls,\n          closeIcon: closeIcon\n        }, notice), notice.props), {}, {\n          key: key,\n          update: update,\n          onClose: onClose,\n          onClick: notice.onClick,\n          children: notice.content\n        });\n\n        if (holderCallback) {\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"\".concat(prefixCls, \"-hook-holder\"),\n            ref: function ref(div) {\n              if (typeof key === 'undefined') {\n                return;\n              }\n\n              if (div) {\n                _this2.hookRefs.set(key, div);\n\n                holderCallback(div, noticeProps);\n              } else {\n                _this2.hookRefs.delete(key);\n              }\n            }\n          });\n        }\n\n        return React.createElement(Notice, Object.assign({}, noticeProps));\n      });\n      return React.createElement(\"div\", {\n        className: classnames(prefixCls, className),\n        style: style\n      }, React.createElement(Animate, {\n        transitionName: this.getTransitionName()\n      }, noticeNodes));\n    }\n  }]);\n\n  return Notification;\n}(Component);\n\nNotification.defaultProps = {\n  prefixCls: 'rc-notification',\n  animation: 'fade',\n  style: {\n    top: 65,\n    left: '50%'\n  }\n};\n\nNotification.newInstance = function newNotificationInstance(properties, callback) {\n  var _ref3 = properties || {},\n      getContainer = _ref3.getContainer,\n      props = _objectWithoutProperties(_ref3, [\"getContainer\"]);\n\n  var div = document.createElement('div');\n\n  if (getContainer) {\n    var root = getContainer();\n    root.appendChild(div);\n  } else {\n    document.body.appendChild(div);\n  }\n\n  var called = false;\n\n  function ref(notification) {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    callback({\n      notice: function notice(noticeProps) {\n        notification.add(noticeProps);\n      },\n      removeNotice: function removeNotice(key) {\n        notification.remove(key);\n      },\n      component: notification,\n      destroy: function destroy() {\n        ReactDOM.unmountComponentAtNode(div);\n\n        if (div.parentNode) {\n          div.parentNode.removeChild(div);\n        }\n      },\n      // Hooks\n      useNotification: function useNotification() {\n        return _useNotification(notification);\n      }\n    });\n  } // Only used for test case usage\n\n\n  if (process.env.NODE_ENV === 'test' && properties.TEST_RENDER) {\n    properties.TEST_RENDER(React.createElement(Notification, Object.assign({}, props, {\n      ref: ref\n    })));\n    return;\n  }\n\n  ReactDOM.render(React.createElement(Notification, Object.assign({}, props, {\n    ref: ref\n  })), div);\n};\n\nexport default Notification;","map":{"version":3,"sources":["/home/abefernan/cosmwasm/dApps/node_modules/rc-notification/es/Notification.js"],"names":["_objectWithoutProperties","_defineProperty","_classCallCheck","_createClass","_inherits","_possibleConstructorReturn","_getPrototypeOf","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","React","Component","ReactDOM","Animate","createChainedFunction","classnames","Notice","_useNotification","seed","now","getUuid","id","concat","Notification","_Component","_super","_this","state","notices","hookRefs","Map","add","notice","holderCallback","maxCount","props","setState","previousState","noticeIndex","map","v","indexOf","updatedNotices","splice","updateKey","shift","remove","_ref","value","getTransitionName","_this$props","prefixCls","animation","transitionName","render","_this2","_this$props2","className","closeIcon","style","noticeNodes","_ref2","index","update","Boolean","onClose","bind","noticeProps","onClick","children","content","createElement","ref","div","set","delete","assign","defaultProps","top","left","newInstance","newNotificationInstance","properties","callback","_ref3","getContainer","document","root","appendChild","body","called","notification","removeNotice","component","destroy","unmountComponentAtNode","parentNode","removeChild","useNotification","process","env","NODE_ENV","TEST_RENDER"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Animate from 'rc-animate';\nimport createChainedFunction from \"rc-util/es/createChainedFunction\";\nimport classnames from 'classnames';\nimport Notice from './Notice';\nimport _useNotification from './useNotification';\nvar seed = 0;\nvar now = Date.now();\n\nfunction getUuid() {\n  var id = seed;\n  seed += 1;\n  return \"rcNotification_\".concat(now, \"_\").concat(id);\n}\n\nvar Notification = /*#__PURE__*/function (_Component) {\n  _inherits(Notification, _Component);\n\n  var _super = _createSuper(Notification);\n\n  function Notification() {\n    var _this;\n\n    _classCallCheck(this, Notification);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      notices: []\n    };\n    _this.hookRefs = new Map();\n\n    _this.add = function (notice, holderCallback) {\n      // eslint-disable-next-line no-param-reassign\n      notice.key = notice.key || getUuid();\n      var key = notice.key;\n      var maxCount = _this.props.maxCount;\n\n      _this.setState(function (previousState) {\n        var notices = previousState.notices;\n        var noticeIndex = notices.map(function (v) {\n          return v.notice.key;\n        }).indexOf(key);\n        var updatedNotices = notices.concat();\n\n        if (noticeIndex !== -1) {\n          updatedNotices.splice(noticeIndex, 1, {\n            notice: notice,\n            holderCallback: holderCallback\n          });\n        } else {\n          if (maxCount && notices.length >= maxCount) {\n            // XXX, use key of first item to update new added (let React to move exsiting\n            // instead of remove and mount). Same key was used before for both a) external\n            // manual control and b) internal react 'key' prop , which is not that good.\n            // eslint-disable-next-line no-param-reassign\n            notice.updateKey = updatedNotices[0].notice.updateKey || updatedNotices[0].notice.key;\n            updatedNotices.shift();\n          }\n\n          updatedNotices.push({\n            notice: notice,\n            holderCallback: holderCallback\n          });\n        }\n\n        return {\n          notices: updatedNotices\n        };\n      });\n    };\n\n    _this.remove = function (key) {\n      _this.setState(function (previousState) {\n        return {\n          notices: previousState.notices.filter(function (_ref) {\n            var notice = _ref.notice;\n            return notice.key !== key;\n          })\n        };\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Notification, [{\n    key: \"getTransitionName\",\n    value: function getTransitionName() {\n      var _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          animation = _this$props.animation;\n      var transitionName = this.props.transitionName;\n\n      if (!transitionName && animation) {\n        transitionName = \"\".concat(prefixCls, \"-\").concat(animation);\n      }\n\n      return transitionName;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var notices = this.state.notices;\n      var _this$props2 = this.props,\n          prefixCls = _this$props2.prefixCls,\n          className = _this$props2.className,\n          closeIcon = _this$props2.closeIcon,\n          style = _this$props2.style;\n      var noticeNodes = notices.map(function (_ref2, index) {\n        var notice = _ref2.notice,\n            holderCallback = _ref2.holderCallback;\n        var update = Boolean(index === notices.length - 1 && notice.updateKey);\n        var key = notice.updateKey ? notice.updateKey : notice.key;\n        var onClose = createChainedFunction(_this2.remove.bind(_this2, notice.key), notice.onClose);\n\n        var noticeProps = _objectSpread(_objectSpread(_objectSpread({\n          prefixCls: prefixCls,\n          closeIcon: closeIcon\n        }, notice), notice.props), {}, {\n          key: key,\n          update: update,\n          onClose: onClose,\n          onClick: notice.onClick,\n          children: notice.content\n        });\n\n        if (holderCallback) {\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"\".concat(prefixCls, \"-hook-holder\"),\n            ref: function ref(div) {\n              if (typeof key === 'undefined') {\n                return;\n              }\n\n              if (div) {\n                _this2.hookRefs.set(key, div);\n\n                holderCallback(div, noticeProps);\n              } else {\n                _this2.hookRefs.delete(key);\n              }\n            }\n          });\n        }\n\n        return React.createElement(Notice, Object.assign({}, noticeProps));\n      });\n      return React.createElement(\"div\", {\n        className: classnames(prefixCls, className),\n        style: style\n      }, React.createElement(Animate, {\n        transitionName: this.getTransitionName()\n      }, noticeNodes));\n    }\n  }]);\n\n  return Notification;\n}(Component);\n\nNotification.defaultProps = {\n  prefixCls: 'rc-notification',\n  animation: 'fade',\n  style: {\n    top: 65,\n    left: '50%'\n  }\n};\n\nNotification.newInstance = function newNotificationInstance(properties, callback) {\n  var _ref3 = properties || {},\n      getContainer = _ref3.getContainer,\n      props = _objectWithoutProperties(_ref3, [\"getContainer\"]);\n\n  var div = document.createElement('div');\n\n  if (getContainer) {\n    var root = getContainer();\n    root.appendChild(div);\n  } else {\n    document.body.appendChild(div);\n  }\n\n  var called = false;\n\n  function ref(notification) {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    callback({\n      notice: function notice(noticeProps) {\n        notification.add(noticeProps);\n      },\n      removeNotice: function removeNotice(key) {\n        notification.remove(key);\n      },\n      component: notification,\n      destroy: function destroy() {\n        ReactDOM.unmountComponentAtNode(div);\n\n        if (div.parentNode) {\n          div.parentNode.removeChild(div);\n        }\n      },\n      // Hooks\n      useNotification: function useNotification() {\n        return _useNotification(notification);\n      }\n    });\n  } // Only used for test case usage\n\n\n  if (process.env.NODE_ENV === 'test' && properties.TEST_RENDER) {\n    properties.TEST_RENDER(React.createElement(Notification, Object.assign({}, props, {\n      ref: ref\n    })));\n    return;\n  }\n\n  ReactDOM.render(React.createElement(Notification, Object.assign({}, props, {\n    ref: ref\n  })), div);\n};\n\nexport default Notification;"]},"metadata":{},"sourceType":"module"}